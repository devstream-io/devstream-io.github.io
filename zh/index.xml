<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>DevStream â€“ DevStream åšå®¢</title><link>https://www.devstream.io/zh/</link><description>Recent content in DevStream åšå®¢ on DevStream</description><generator>Hugo -- gohugo.io</generator><atom:link href="https://www.devstream.io/zh/index.xml" rel="self" type="application/rss+xml"/><item><title>Blog: Deploy k8s from scrash</title><link>https://www.devstream.io/zh/blog/deploy-k8s-from-scrash/</link><pubDate>Mon, 18 Apr 2022 00:00:00 +0000</pubDate><guid>https://www.devstream.io/zh/blog/deploy-k8s-from-scrash/</guid><description>
&lt;img src="https://www.devstream.io/zh/blog/deploy-k8s-from-scrash/featured-background_hu21989ddc8b66511e4b50f875ce8b0608_6786932_640x0_resize_q75_catmullrom.jpg" width="640" height="480"/>
&lt;div class="card rounded p-2 td-post-card mb-4 mt-4" style="max-width: 1210px">
&lt;img class="card-img-top" src="https://www.devstream.io/zh/blog/deploy-k8s-from-scrash/featured-background_hu21989ddc8b66511e4b50f875ce8b0608_6786932_1200x800_fill_q75_catmullrom_smart1.jpg" width="1200" height="800">
&lt;div class="card-body px-0 pt-2 pb-0">
&lt;p class="card-text">
æˆéƒ½é’é¾™æ¹–å¼¥è¿œå’–å•¡
&lt;small class="text-muted">&lt;br/>Photo: Daniel Hu / CC-BY-CA&lt;/small>&lt;/p>
&lt;/div>
&lt;/div>
&lt;hr>
&lt;h1 id="ä»é›¶å¼€å§‹å¿«é€Ÿæ­å»ºæœ¬åœ°-kubernetes-æµ‹è¯•ç¯èŠ‚">ä»é›¶å¼€å§‹å¿«é€Ÿæ­å»ºæœ¬åœ° Kubernetes æµ‹è¯•ç¯èŠ‚&lt;/h1>
&lt;p>ä»é›¶å¼€å§‹ï¼Ÿä»é›¶å¼€å§‹ï¼&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-go" data-lang="go">&lt;span style="display:flex;">&lt;span>&lt;span style="color:#204a87;font-weight:bold">var&lt;/span> &lt;span style="color:#000">é›¶&lt;/span>&lt;span style="color:#000;font-weight:bold">=&lt;/span>&lt;span style="color:#0000cf;font-weight:bold">99&lt;/span> &lt;span style="color:#8f5902;font-style:italic">// åˆ«ç´§å¼ ï¼ŒJust a jokã€‚
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>Let&amp;rsquo;s Get Started!&lt;/p>
&lt;h2 id="æ¦‚è¿°">æ¦‚è¿°&lt;/h2>
&lt;p>â€œKubernetes é›†ç¾¤éƒ¨ç½²â€ä¸¥æ ¼æ¥è¯´æ˜¯ä¸€ä¸ªå¤æ‚çš„æŠ€æœ¯æ´»ï¼Œæœ‰å¾ˆå¤šçš„å¯é€‰æ–¹æ¡ˆã€‚è¦äº¤ä»˜ä¸€å¥—é æ‹¢â€œæœ€ä½³å®è·µâ€çš„é«˜å¯ç”¨é›†ç¾¤æœ‰å¾ˆå¤šéœ€è¦è€ƒè™‘çš„æŠ€æœ¯ç»†èŠ‚ã€‚å…³äºå¦‚ä½•éƒ¨ç½²â€œçœŸæ­£é«˜å¯ç”¨çš„ Kubernetes é›†ç¾¤â€ä¸åœ¨æœ¬æ–‡çš„è®¨è®ºèŒƒå›´ï¼Œæ‰€ä»¥ä»Šå¤©æˆ‘ä»¬çš„ç›®æ ‡æ˜¯ä½¿ç”¨ä¸€ç§ç®€å•çš„æ–¹å¼å¿«é€Ÿéƒ¨ç½²ä¸€ä¸ªå¯ç”¨çš„ Kubernetes ç¯å¢ƒã€‚è¿™å¥—ç¯å¢ƒä¸»è¦ç”¨äºæ»¡è¶³ DevStream çš„å¼€å‘æµ‹è¯•éœ€æ±‚ã€‚&lt;/p>
&lt;p>å¿«é€Ÿéƒ¨ç½² Kubernetes æœ‰å¥½å‡ ç§å¯é€‰æ–¹æ¡ˆï¼Œæ¯”å¦‚ Minikube å’Œ Kindã€‚ Minikubeæœ€å…ˆåŸºäºè™šæ‹ŸåŒ–å®ç°ï¼ˆæ–°ç‰ˆæœ¬ä¹Ÿæ”¯æŒå®¹å™¨åŒ–å®ç°äº†ï¼‰ï¼Œä¹Ÿå°±æ˜¯é€šè¿‡ virtualbox æˆ–è€… kvm ç­‰å·¥å…·åœ¨æœ¬åœ°åˆ›å»ºè‹¥å¹²è™šæ‹Ÿæœºï¼Œç„¶ååœ¨è™šæ‹Ÿæœºä¸­è¿è¡Œ Kubernetes é›†ç¾¤ï¼Œä¸€ä¸ªèŠ‚ç‚¹ä¹Ÿå°±å¯¹åº”ä¸€å°è™šæ‹Ÿæœºã€‚Kind é€šè¿‡å®¹å™¨åŒ–å®ç°ï¼Œä¹Ÿå°±æ˜¯é€šè¿‡ Docker åœ¨æœ¬åœ°å¯åŠ¨è‹¥å¹²å®¹å™¨ï¼Œæ¯ä¸ªå®¹å™¨å……å½“ Kubernetes çš„ä¸€ä¸ªèŠ‚ç‚¹ï¼Œåœ¨å®¹å™¨å†…å†è¿è¡Œå®¹å™¨åŒ–åº”ç”¨ã€‚æœ¬æ–‡æˆ‘ä»¬é€‰æ‹©ç”¨ Kind è¿™ç§â€œå®¹å™¨ä¸­è·‘å®¹å™¨â€çš„æ–¹å¼æ¥æ­å»º Kubernetes ç¯å¢ƒã€‚å½“ç„¶å¦‚æœå¤§å®¶æœ‰å…¶ä»–æ“…é•¿çš„å·¥å…·ï¼Œä¹Ÿå®Œå…¨å¯ä»¥ç”¨ï¼Œæˆ‘ä»¬çš„ç›®çš„ä»…ä»…æ˜¯å¿«é€Ÿéƒ¨ç½²ä¸€å¥—å¯ç”¨çš„ Kubernetes é›†ç¾¤ç¯å¢ƒã€‚&lt;/p>
&lt;p>æœ¬æ–‡ä»¥ macOS ä½œä¸ºå¼€å‘ç¯å¢ƒï¼Œä½¿ç”¨ Linux æˆ–è€… Windows ç³»ç»Ÿä½œä¸ºå¼€å‘ç¯å¢ƒçš„åŒå­¦å¯ä»¥å‚è€ƒæœ¬æ–‡çš„æ–¹æ³•ï¼Œç›¸åº”åœ°åšä¸€äº›çµæ´»è°ƒæ•´ã€‚&lt;/p>
&lt;h2 id="docker-çš„å®‰è£…">Docker çš„å®‰è£…&lt;/h2>
&lt;p>åœ¨ Linux ä¸‹å®‰è£… Docker æ˜¯ä¸€ä»¶éå¸¸ç®€å•çš„äº‹æƒ…ï¼ŒDocker çš„æ ¸å¿ƒåŸç†å°±æ˜¯åŸºäº Linux çš„ Namespace å’Œ Cgroup ç­‰æœºåˆ¶ã€‚ä¸è¿‡åœ¨ macOS å’Œ Windows ä¸‹å°±éœ€è¦é€šè¿‡è™šæ‹ŸåŒ–æŠ€æœ¯é—´æ¥ä½¿ç”¨ Docker äº†ã€‚å½“ç„¶æˆ‘ä»¬ç°åœ¨å·²ç»ä¸éœ€è¦å…ˆå®‰è£…è™šæ‹ŸåŒ–è½¯ä»¶ç„¶åè‡ªå·±å®‰è£… Linux è™šæ‹Ÿæœºï¼Œå†ä½¿ç”¨ Docker äº†ã€‚æˆ‘ä»¬å¯ä»¥ç›´æ¥åœ¨ docker.com ä¸‹è½½ Docker Desktop æ¥è·‘ Docker ç¨‹åºã€‚&lt;/p>
&lt;p>æˆ‘ä»¬åœ¨ &lt;a href="https://www.docker.com/products/docker-desktop">https://www.docker.com/products/docker-desktop&lt;/a> å¯»æ‰¾åˆé€‚çš„ Docker Desktop ç‰ˆæœ¬ï¼Œä¸»è¦æ˜¯çœ‹æ¸…æ¥š cpu æ¶æ„æ˜¯ Intel Chip è¿˜æ˜¯ Apple Chipï¼Œå‰è€…å¯¹åº” amd64 æ¶æ„ç‰ˆæœ¬ Macï¼Œåè€…æ˜¯ arm æ¶æ„çš„ M1 èŠ¯ç‰‡ç‰ˆæœ¬ Macã€‚ ä¸‹è½½é¡µé¢å¤§è‡´å¦‚ä¸‹ï¼š&lt;/p>
&lt;p>&lt;img src="./a.png" alt="docker download">&lt;/p>
&lt;p>ä¸‹è½½å®ŒæˆååŒå‡» Docker.dmg æ–‡ä»¶ï¼Œå¯ä»¥çœ‹åˆ°å®‰è£…é¡µé¢ï¼š&lt;/p>
&lt;p>&lt;img src="./b.png" alt="docker install">&lt;/p>
&lt;p>æˆ‘ä»¬æŠŠ Docker å›¾æ ‡æ‹–åˆ° Applications é‡Œï¼Œç¨ç­‰ä¸åˆ°åŠåˆ†é’Ÿï¼Œå°±å¯ä»¥åœ¨â€œå¯åŠ¨å°â€é‡Œçœ‹åˆ° Docker å›¾æ ‡äº†ï¼Œç„¶åç‚¹å‡»â€œå¯åŠ¨å°â€é‡Œçš„ Docker æ‰“å¼€ Docker Desktopï¼š&lt;/p>
&lt;p>&lt;img src="./c.png" alt="docker logo">&lt;/p>
&lt;p>ç¨ç­‰å‡ ç§’é’Ÿï¼Œå°±å¯ä»¥çœ‹åˆ°å¯åŠ¨é¡µé¢äº†ï¼š&lt;/p>
&lt;p>&lt;img src="./d.png" alt="docker started">&lt;/p>
&lt;p>æˆ‘ä»¬å¯ä»¥ç‚¹å‡»å³ä¸Šè§’çš„â€œé½¿è½®âš™ï¸â€æŒ‰é’®æ¥ä¿®æ”¹ Docker Desktop çš„ä¸€äº›é…ç½®ï¼Œæ¯”å¦‚è°ƒæ•´ Docker å¯ä»¥ä½¿ç”¨çš„èµ„æºç­‰ã€‚å¦‚æœåé¢æˆ‘ä»¬éœ€è¦å¯åŠ¨çš„å®¹å™¨ç¨å¤šä¸€äº›ï¼Œå†…å­˜ä¸å¤Ÿç”¨äº†ï¼Œå¯ä»¥å›åˆ°è¿™é‡Œæ¥è°ƒæ•´ï¼Œæ¯”å¦‚æˆ‘è¿™é‡ŒæŠŠ Memory è°ƒå¤§åˆ° 4.00 GBï¼š&lt;/p>
&lt;p>&lt;img src="./e.png" alt="docker setup">&lt;/p>
&lt;p>ä¿®æ”¹åè®°å¾—ç‚¹å‡»å³ä¸‹è§’çš„â€œApply &amp;amp; Restartâ€æ‰ä¼šç”Ÿæ•ˆã€‚&lt;/p>
&lt;h2 id="kind-ä»‹ç»">Kind ä»‹ç»&lt;/h2>
&lt;p>Kind(Kubernetes-in-docker) æ˜¯ä¸€ä¸ªä½¿ç”¨ Docker å®¹å™¨ä½œä¸ºâ€œèŠ‚ç‚¹â€å®ç°éƒ¨ç½² Kubernetes é›†ç¾¤ç¯å¢ƒçš„å·¥å…·ã€‚Kind å·¥å…·ä¸»è¦ç”¨äº Kubernetes æœ¬èº«çš„æµ‹è¯•ï¼Œç›®å‰åœ¨å¾ˆå¤šéœ€è¦éƒ¨ç½²åˆ° Kubernetes ç¯å¢ƒæµ‹è¯•çš„é¡¹ç›®åœ¨ ci æµç¨‹ä¸­éƒ½ä¼šé€‰æ‹©ç”¨ Kind æ¥å¿«é€Ÿæ‹‰èµ·ä¸€ä¸ª Kubernetes ç¯å¢ƒï¼Œç„¶åè¿è¡Œç›¸å…³æµ‹è¯•ç”¨ä¾‹ã€‚&lt;/p>
&lt;p>Kind æœ¬èº«å¾ˆç®€å•ï¼ŒåªåŒ…å«ä¸€ä¸ªç®€å•çš„å‘½ä»¤è¡Œå·¥å…·â€œkindâ€å’Œä¸€ä¸ªç”¨æ¥å¯åŠ¨ Kubernetes å’Œ systemdç­‰çš„ Docker é•œåƒã€‚æˆ‘ä»¬å¯ä»¥è¿™æ ·ç†è§£ Kind çš„åŸç†ï¼šå®ƒé€šè¿‡ Host ä¸»æœºä¸Šçš„ Docker ä½¿ç”¨å°è£…äº† Kubernetes ç­‰å·¥å…·çš„å®¹å™¨é•œåƒæ‹‰èµ·ä¸€ä¸ªå®¹å™¨ï¼Œè¿™ä¸ªå®¹å™¨é‡Œè¿è¡Œäº† systemdï¼Œå®¹å™¨ä¸­çš„ systemd è¿›ä¸€æ­¥å¯ä»¥è¿è¡Œ Docker å’Œ Kubelet ç­‰ Kubernetes èŠ‚ç‚¹æ‰€éœ€åŸºç¡€è¿›ç¨‹ï¼Œç„¶åè¿™äº›è¿›ç¨‹å°±å¯ä»¥è¿›ä¸€æ­¥è¿è¡Œ kube-apiserverã€kube-controller-managerã€kube-schedulerã€kube-proxyã€CoreDNS ç­‰é›†ç¾¤æ‰€éœ€ç»„ä»¶ï¼Œä»è€Œä¸€ä¸ªè¿™æ ·çš„å®¹å™¨å°±ç»„æˆäº†ä¸€ä¸ª Kubernetes é›†ç¾¤çš„â€œèŠ‚ç‚¹â€ã€‚&lt;/p>
&lt;p>æ‰€ä»¥ Kind å¯ä»¥é€šè¿‡ä¸€ä¸ªå®¹å™¨è¿è¡Œâ€œå•èŠ‚ç‚¹ Kubernetes é›†ç¾¤â€ï¼Œä¹Ÿå¯ä»¥è¿›ä¸€æ­¥é€šè¿‡è¿è¡Œä¸‰ä¸ªæˆ–æ›´å¤šå®¹å™¨å®ç°åœ¨ä¸€å°ä¸»æœºä¸Šè¿è¡Œä¸€ä¸ªâ€œå¤šèŠ‚ç‚¹Kubernetes é›†ç¾¤â€ã€‚&lt;/p>
&lt;h2 id="ä¸€é”®æ­å»º-kind-æµ‹è¯•ç¯èŠ‚">ä¸€é”®æ­å»º Kind æµ‹è¯•ç¯èŠ‚&lt;/h2>
&lt;p>ç§˜ç±ï¼š&lt;/p>
&lt;ol>
&lt;li>ä¸‹è½½ DevStream é¡¹ç›®ä¸»åº“ï¼šhttps://github.com/devstream-io/devstream&lt;/li>
&lt;li>åœ¨ devstream ç›®å½•å†…æ‰§è¡Œä¸€æ¡å‘½ä»¤ï¼š&lt;code>make e2e-up&lt;/code>&lt;/li>
&lt;/ol>
&lt;p>ç»“æŸäº†ï¼Ÿç»“æŸäº†ã€‚&lt;/p>
&lt;p>å‘ç”Ÿäº†å•¥ï¼Ÿå¤§å®¶å¯ä»¥æ‰“å¼€ Makefileï¼Œåœ¨é‡Œé¢å¯ä»¥çœ‹åˆ° e2e-up å…¶å®æ˜¯æ‰§è¡Œäº† &lt;code>sh hack/e2e/e2e-up.sh&lt;/code> è¿™ä¸ªå‘½ä»¤ï¼Œåœ¨ e2e-up.sh è¿™ä¸ªè„šæœ¬ä¸­ï¼Œæˆ‘ä»¬å®Œæˆäº†åŸºäº Kind çš„ Kubernetes æµ‹è¯•ç¯å¢ƒçš„æ­å»ºã€‚&lt;/p>
&lt;p>ä¼¼ä¹è¡Œæ–‡è‡³æ­¤ï¼Œå·²ç»å¯ä»¥ AFK and have a cup of coffee äº†ï¼&lt;/p>
&lt;p>ä½†æ˜¯å¥½åƒæ²¡å‘æŒ¥å°½å…´ã€‚&lt;/p>
&lt;p>å¥½å§ï¼Œé‚£å°±è¯¦ç»†æ°æ‰¯æ°æ‰¯ Kind çš„ç©æ³•å§ã€‚&lt;/p>
&lt;p>ä»Šå¤©ä¸ç”¨ç³»å®‰å…¨å¸¦ï¼Œæˆ‘è¦ä¸¥è‚ƒèµ·æ¥äº†ã€‚&lt;/p>
&lt;h2 id="ä½¿ç”¨-kind-ä¸¤é”®æ­å»º-kubernetes-ç¯å¢ƒ">ä½¿ç”¨ Kind â€œä¸¤é”®â€æ­å»º Kubernetes ç¯å¢ƒ&lt;/h2>
&lt;p>ç°åœ¨æˆ‘ä»¬æ¥æ­å»º Kind å¼€å‘ç¯å¢ƒï¼Œåœ¨ GitHub ä¸Šå¯ä»¥çœ‹åˆ° Kindæœ€æ–°çš„ Release ç‰ˆæœ¬å’Œå¯¹åº”çš„ Node é•œåƒï¼šhttps://github.com/kubernetes-sigs/kind/releases&lt;/p>
&lt;p>å¯ä»¥é€‰æ‹©ç¼–è¯‘å¥½çš„ç‰ˆæœ¬ï¼Œä¹Ÿå¯ä»¥ç›´æ¥é€šè¿‡ go get å‘½ä»¤æ¥ä¸‹è½½ç¼–è¯‘ Kindã€‚æˆ‘ä»¬å°½é‡é€‰æ‹©è¾ƒæ–°çš„ç‰ˆæœ¬ï¼Œç„¶åé€šè¿‡ä¸‹é¢å‘½ä»¤ä¸‹è½½å®‰è£…ï¼ˆè®°å¾—æ”¹æˆä½ éœ€è¦çš„ç‰ˆæœ¬å·ï¼‰ã€‚&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-sh" data-lang="sh">&lt;span style="display:flex;">&lt;span>&lt;span style="color:#8f5902;font-style:italic"># æ–¹å¼ä¸€ï¼šé€‰æ‹©ç¼–è¯‘å¥½çš„å¯æ‰§è¡Œæ–‡ä»¶&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#204a87">cd&lt;/span> /tmp
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>curl -Lo ./kind https://github.com/kubernetes-sigs/kind/releases/download/v0.12.0/kind-darwin-arm64
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>chmod +x ./kind
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>sudo mv kind /usr/local/bin/
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#8f5902;font-style:italic"># æ–¹å¼äºŒï¼šé€šè¿‡ go get æ¥ä¸‹è½½ç¼–è¯‘&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>go get sigs.k8s.io/kind@v0.12.1
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>å¯ä»¥æå‰ä¸‹è½½æ‰€éœ€é•œåƒï¼Œè¿™é‡Œæˆ‘ä»¬é€‰æ‹©ä½¿ç”¨ 1.22 ç‰ˆæœ¬çš„ Kubernetes å¯¹åº”é•œåƒï¼š&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-sh" data-lang="sh">&lt;span style="display:flex;">&lt;span>kindest/node:v1.22.0@sha256:b8bda84bb3a190e6e028b1760d277454a72267a5454b57db34437c34a588d047
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>ç„¶åé€šè¿‡ä¸‹é¢ä¸€æ¡å‘½ä»¤å°±å¯ä»¥å¿«é€Ÿæ‹‰èµ·æ¥ä¸€å¥— Kubernetes ç¯å¢ƒï¼š&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-sh" data-lang="sh">&lt;span style="display:flex;">&lt;span>kind create cluster --image&lt;span style="color:#ce5c00;font-weight:bold">=&lt;/span>kindest/node:v1.22.0 --name&lt;span style="color:#ce5c00;font-weight:bold">=&lt;/span>dev
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>ä¸Šè¿°æ‰§è¡Œè¾“å‡ºå¤§è‡´å¦‚ä¸‹ï¼š&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-sh" data-lang="sh">&lt;span style="display:flex;">&lt;span>Creating cluster &lt;span style="color:#4e9a06">&amp;#34;dev&amp;#34;&lt;/span> ...
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> âœ“ Ensuring node image &lt;span style="color:#ce5c00;font-weight:bold">(&lt;/span>kindest/node:v1.22.0&lt;span style="color:#ce5c00;font-weight:bold">)&lt;/span> ğŸ–¼
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> âœ“ Preparing nodes ğŸ“¦
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> âœ“ Writing configuration ğŸ“œ
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> âœ“ Starting control-plane ğŸ•¹ï¸
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> âœ“ Installing CNI ğŸ”Œ
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> âœ“ Installing StorageClass ğŸ’¾
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>Set kubectl context to &lt;span style="color:#4e9a06">&amp;#34;kind-dev&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>You can now use your cluster with:
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>kubectl cluster-info --context kind-dev
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>Have a question, bug, or feature request? Let us know! https://kind.sigs.k8s.io/#community ğŸ™‚
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>æŒ‰ç…§å‘½ä»¤è¡Œè¾“å‡ºæç¤ºï¼Œæ¥ç€æˆ‘ä»¬éœ€è¦æ‰§è¡Œ kubectl cluster-info &amp;ndash;context kind-dev æ¥åˆ‡æ¢ context ï¼Œå…¶å®å½“å‰ç›´æ¥æ‰§è¡Œ kubectl getå°±å¯ä»¥çœ‹åˆ°æ–°èµ·æ¥çš„ Kubernetes ç¯å¢ƒäº†ï¼Œå¤šå¥—é›†ç¾¤çš„æ—¶å€™æ‰éœ€è¦è¿™æ ·åˆ‡æ¢ã€‚&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-sh" data-lang="sh">&lt;span style="display:flex;">&lt;span>$ kubectl get node
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>NAME STATUS ROLES AGE VERSION
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>dev-control-plane Ready control-plane,master 7m4s v1.22.0
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>$ kubectl get pod -n kube-system
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>NAME READY STATUS RESTARTS AGE
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>coredns-78fcd69978-hch75 1/1 Running &lt;span style="color:#0000cf;font-weight:bold">0&lt;/span> 10m
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>coredns-78fcd69978-ztqn4 1/1 Running &lt;span style="color:#0000cf;font-weight:bold">0&lt;/span> 10m
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>etcd-dev-control-plane 1/1 Running &lt;span style="color:#0000cf;font-weight:bold">0&lt;/span> 10m
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>kindnet-l8qxq 1/1 Running &lt;span style="color:#0000cf;font-weight:bold">0&lt;/span> 10m
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>kube-apiserver-dev-control-plane 1/1 Running &lt;span style="color:#0000cf;font-weight:bold">0&lt;/span> 10m
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>kube-controller-manager-dev-control-plane 1/1 Running &lt;span style="color:#0000cf;font-weight:bold">0&lt;/span> 10m
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>kube-proxy-mzfgc 1/1 Running &lt;span style="color:#0000cf;font-weight:bold">0&lt;/span> 10m
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>kube-scheduler-dev-control-plane 1/1 Running &lt;span style="color:#0000cf;font-weight:bold">0&lt;/span> 10m
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>è¿™æ ·æˆ‘ä»¬å°±å¿«é€Ÿæ”¶è·äº†ä¸€ä¸ªå¯ä»¥ç”¨æ¥æµ‹è¯•æˆ–è€…å­¦ä¹  Kubernetes çš„ç¯å¢ƒäº†ã€‚&lt;/p>
&lt;h2 id="ä½¿ç”¨-kind-ä¸‰é”®æ­å»ºå¤šèŠ‚ç‚¹-kubernetes-é›†ç¾¤ç¯å¢ƒ">ä½¿ç”¨ Kind â€œä¸‰é”®â€æ­å»ºå¤šèŠ‚ç‚¹ Kubernetes é›†ç¾¤ç¯å¢ƒ&lt;/h2>
&lt;p>æœ€å°çš„ Kubernetes HA é›†ç¾¤éœ€è¦æœ‰ 3 ä¸ª MasterèŠ‚ç‚¹ï¼Œå½“ç„¶æˆ‘ä»¬ä¹Ÿå¯ä»¥æŠŠ 1 ä¸ªèŠ‚ç‚¹çš„ all-in-one ç¯å¢ƒç§°ä¸ºâ€œå•èŠ‚ç‚¹é›†ç¾¤â€ã€‚è¿™ä¸€å°èŠ‚æˆ‘ä»¬æ¥ç€çœ‹ä¸€ä¸‹å¦‚ä½•é€šè¿‡ Kind æ¥å¿«é€Ÿæ­å»ºå¤šèŠ‚ç‚¹çš„ Kubernetes é›†ç¾¤ç¯å¢ƒã€‚&lt;/p>
&lt;h3 id="kind-é›†ç¾¤é…ç½®æ–‡ä»¶">Kind é›†ç¾¤é…ç½®æ–‡ä»¶&lt;/h3>
&lt;p>Kind ç¯å¢ƒæ­å»ºçš„æ—¶å€™å¯ä»¥è‡ªå®šä¹‰é…ç½®ï¼Œé€šè¿‡ &amp;ndash;config æ¥æŒ‡å®šè‡ªå®šä¹‰é…ç½®æ–‡ä»¶è·¯å¾„ã€‚Kind æ”¯æŒçš„é…ç½®æ ¼å¼å¦‚ä¸‹ï¼š&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-yaml" data-lang="yaml">&lt;span style="display:flex;">&lt;span>&lt;span style="color:#8f5902;font-style:italic"># this config file contains all config fields with comments&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline">&lt;/span>&lt;span style="color:#8f5902;font-style:italic"># NOTE: this is not a particularly useful config file&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline">&lt;/span>&lt;span style="color:#204a87;font-weight:bold">kind&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000">Cluster&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline">&lt;/span>&lt;span style="color:#204a87;font-weight:bold">apiVersion&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000">kind.x-k8s.io/v1alpha4&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline">&lt;/span>&lt;span style="color:#8f5902;font-style:italic"># patch the generated kubeadm config with some extra settings&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline">&lt;/span>&lt;span style="color:#204a87;font-weight:bold">kubeadmConfigPatches&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline">&lt;/span>- &lt;span style="color:#000;font-weight:bold">|&lt;/span>&lt;span style="color:#8f5902;font-style:italic">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#8f5902;font-style:italic"> apiVersion: kubelet.config.k8s.io/v1beta1
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#8f5902;font-style:italic"> kind: KubeletConfiguration
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#8f5902;font-style:italic"> evictionHard:
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#8f5902;font-style:italic"> nodefs.available: &amp;#34;0%&amp;#34;&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline">&lt;/span>&lt;span style="color:#8f5902;font-style:italic"># patch it further using a JSON 6902 patch&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline">&lt;/span>&lt;span style="color:#204a87;font-weight:bold">kubeadmConfigPatchesJSON6902&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline">&lt;/span>- &lt;span style="color:#204a87;font-weight:bold">group&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000">kubeadm.k8s.io&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">version&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000">v1beta2&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">kind&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000">ClusterConfiguration&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">patch&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000;font-weight:bold">|&lt;/span>&lt;span style="color:#8f5902;font-style:italic">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#8f5902;font-style:italic"> - op: add
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#8f5902;font-style:italic"> path: /apiServer/certSANs/-
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#8f5902;font-style:italic"> value: my-hostname&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline">&lt;/span>&lt;span style="color:#8f5902;font-style:italic"># 1 control plane node and 3 workers&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline">&lt;/span>&lt;span style="color:#204a87;font-weight:bold">nodes&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline">&lt;/span>&lt;span style="color:#8f5902;font-style:italic"># the control plane node config&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline">&lt;/span>- &lt;span style="color:#204a87;font-weight:bold">role&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000">control-plane&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline">&lt;/span>&lt;span style="color:#8f5902;font-style:italic"># the three workers&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline">&lt;/span>- &lt;span style="color:#204a87;font-weight:bold">role&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000">worker&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline">&lt;/span>- &lt;span style="color:#204a87;font-weight:bold">role&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000">worker&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline">&lt;/span>- &lt;span style="color:#204a87;font-weight:bold">role&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000">worker&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>å¯ä»¥çœ‹åˆ°è¿™é‡Œçš„é…ç½®é¡¹åˆ†ä¸ºä¸¤ä¸ªéƒ¨åˆ†ï¼Œä¸Šé¢æ˜¯å’Œ Kubeadm å¦‚ä½•é…ç½® Kubernetes ç›¸å…³çš„é…ç½®é¡¹ï¼Œä¸‹é¢æ˜¯å’Œ Nodes è§’è‰²å’Œè§„æ¨¡ç›¸å…³çš„é…ç½®é¡¹ã€‚ä¸éš¾çŒœåˆ°ï¼Œæˆ‘ä»¬éœ€è¦éƒ¨ç½²å¤šä¸ªèŠ‚ç‚¹çš„ Kubernetes é›†ç¾¤ï¼Œå¯ä»¥é€šè¿‡æŒ‡å®š nodes éƒ¨åˆ†é…ç½®çš„æ–¹å¼æ¥å®ç°ã€‚&lt;/p>
&lt;h3 id="ä¸€ä¸»ä¸‰ä»é›†ç¾¤æ­å»º">ä¸€ä¸»ä¸‰ä»é›†ç¾¤æ­å»º&lt;/h3>
&lt;p>æˆ‘ä»¬å‡†å¤‡ä¸€ä»½å¯¹åº”çš„é…ç½®æ–‡ä»¶ï¼Œå‘½åä¸ºmulti-node-config.yamlï¼Œå†…å®¹å¦‚ä¸‹ï¼š&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-yaml" data-lang="yaml">&lt;span style="display:flex;">&lt;span>&lt;span style="color:#204a87;font-weight:bold">kind&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000">Cluster&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline">&lt;/span>&lt;span style="color:#204a87;font-weight:bold">apiVersion&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000">kind.x-k8s.io/v1alpha4&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline">&lt;/span>&lt;span style="color:#204a87;font-weight:bold">nodes&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline">&lt;/span>- &lt;span style="color:#204a87;font-weight:bold">role&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000">control-plane&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline">&lt;/span>- &lt;span style="color:#204a87;font-weight:bold">role&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000">worker&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline">&lt;/span>- &lt;span style="color:#204a87;font-weight:bold">role&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000">worker&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline">&lt;/span>- &lt;span style="color:#204a87;font-weight:bold">role&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000">worker&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>æ¥ç€æ‰§è¡Œå¦‚ä¸‹å‘½ä»¤æ‹‰èµ·é›†ç¾¤ï¼š&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-sh" data-lang="sh">&lt;span style="display:flex;">&lt;span>$ kind create cluster --config multi-node-config.yaml &lt;span style="color:#4e9a06">\
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#4e9a06">&lt;/span> --image&lt;span style="color:#ce5c00;font-weight:bold">=&lt;/span>kindest/node:v1.22.0 --name&lt;span style="color:#ce5c00;font-weight:bold">=&lt;/span>dev4
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>ç­‰å¾…å‘½ä»¤æ‰§è¡Œç»“æŸï¼Œæˆ‘ä»¬å¯ä»¥çœ‹åˆ°ç±»ä¼¼å‰é¢å•èŠ‚ç‚¹ç¯å¢ƒæ­å»ºæ—¶çœ‹åˆ°çš„è¾“å‡ºç»“æœï¼Œæœ‰ä¸ªä¸»è¦åŒºåˆ«æ˜¯æ­¥éª¤å¤šäº†ä¸€ä¸ªâ€œJoining worker nodesâ€ï¼š&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-sh" data-lang="sh">&lt;span style="display:flex;">&lt;span>Creating cluster &lt;span style="color:#4e9a06">&amp;#34;dev4&amp;#34;&lt;/span> ...
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> âœ“ Ensuring node image &lt;span style="color:#ce5c00;font-weight:bold">(&lt;/span>kindest/node:v1.22.0&lt;span style="color:#ce5c00;font-weight:bold">)&lt;/span> ğŸ–¼
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> âœ“ Preparing nodes ğŸ“¦ ğŸ“¦ ğŸ“¦ ğŸ“¦
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> âœ“ Writing configuration ğŸ“œ
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> âœ“ Starting control-plane ğŸ•¹ï¸
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> âœ“ Installing CNI ğŸ”Œ
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> âœ“ Installing StorageClass ğŸ’¾
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> âœ“ Joining worker nodes ğŸšœ
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>Set kubectl context to &lt;span style="color:#4e9a06">&amp;#34;kind-dev4&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>You can now use your cluster with:
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>kubectl cluster-info --context kind-dev4
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>Thanks &lt;span style="color:#204a87;font-weight:bold">for&lt;/span> using kind! ğŸ˜Š
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>å¯ä»¥é€šè¿‡å¦‚ä¸‹å‘½ä»¤æŸ¥çœ‹æ–°åˆ›å»ºçš„é›†ç¾¤ï¼š&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-sh" data-lang="sh">&lt;span style="display:flex;">&lt;span>$ kubectl cluster-info --context kind-dev4
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>Kubernetes control plane is running at https://127.0.0.1:51851
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>CoreDNS is running at https://127.0.0.1:51851/api/v1/namespaces/kube-system/services/kube-dns:dns/proxy
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>To further debug and diagnose cluster problems, use &lt;span style="color:#4e9a06">&amp;#39;kubectl cluster-info dump&amp;#39;&lt;/span>.
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>$ kubectl get node
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>NAME STATUS ROLES AGE VERSION
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>dev4-control-plane Ready control-plane,master 3m28s v1.22.0
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>dev4-worker Ready &amp;lt;none&amp;gt; 2m54s v1.22.0
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>dev4-worker2 Ready &amp;lt;none&amp;gt; 2m54s v1.22.0
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>dev4-worker3 Ready &amp;lt;none&amp;gt; 2m54s v1.22.0
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>ä¸Šè¿°å‘½ä»¤æ‰§è¡Œç»“æœå¯ä»¥å¾ˆæ¸…æ™°çœ‹åˆ°è¿™ä¸ª dev4 é›†ç¾¤æœ‰1ä¸ª Master èŠ‚ç‚¹å’Œ 3 ä¸ª Worker èŠ‚ç‚¹ã€‚&lt;/p>
&lt;h3 id="ä¸‰ä¸»ä¸‰ä»-ha-é›†ç¾¤æ­å»º">ä¸‰ä¸»ä¸‰ä» HA é›†ç¾¤æ­å»º&lt;/h3>
&lt;p>å½“ç„¶æˆ‘ä»¬è¿™é‡Œçš„ HA åªæ˜¯è¡¨ç¤º Master èŠ‚ç‚¹ç»„ä»¶ä¼šè¿è¡Œ 3 å‰¯æœ¬ï¼Œä¸€å®šç¨‹åº¦ä¸Šå®ç° Master èŠ‚ç‚¹æ²¡æœ‰å•ç‚¹æ•…éšœï¼Œå¹¶ä¸æ˜¯ä¸¥æ ¼æ„ä¹‰ä¸Šçš„â€œé«˜å¯ç”¨â€ã€‚&lt;/p>
&lt;p>åŒæ ·å‡†å¤‡ä¸€ä»½é…ç½®æ–‡ä»¶ ha-config.yamlï¼Œå†…å®¹å¦‚ä¸‹ï¼š&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-yaml" data-lang="yaml">&lt;span style="display:flex;">&lt;span>&lt;span style="color:#204a87;font-weight:bold">kind&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000">Cluster&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline">&lt;/span>&lt;span style="color:#204a87;font-weight:bold">apiVersion&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000">kind.x-k8s.io/v1alpha4&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline">&lt;/span>&lt;span style="color:#204a87;font-weight:bold">nodes&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline">&lt;/span>- &lt;span style="color:#204a87;font-weight:bold">role&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000">control-plane&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline">&lt;/span>- &lt;span style="color:#204a87;font-weight:bold">role&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000">control-plane&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline">&lt;/span>- &lt;span style="color:#204a87;font-weight:bold">role&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000">control-plane&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline">&lt;/span>- &lt;span style="color:#204a87;font-weight:bold">role&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000">worker&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline">&lt;/span>- &lt;span style="color:#204a87;font-weight:bold">role&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000">worker&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline">&lt;/span>- &lt;span style="color:#204a87;font-weight:bold">role&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000">worker&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>æ¥ç€æ‰§è¡Œå¦‚ä¸‹å‘½ä»¤æ‹‰èµ·é›†ç¾¤ï¼š&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-sh" data-lang="sh">&lt;span style="display:flex;">&lt;span>$ kind create cluster --config ha-config.yaml &lt;span style="color:#4e9a06">\
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#4e9a06">&lt;/span> --image&lt;span style="color:#ce5c00;font-weight:bold">=&lt;/span>kindest/node:v1.22.0 --name&lt;span style="color:#ce5c00;font-weight:bold">=&lt;/span>dev6
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>ç­‰å¾…å‘½ä»¤æ‰§è¡Œç»“æŸï¼Œæˆ‘ä»¬ä¾æ—§å¯ä»¥çœ‹åˆ°ç†Ÿæ‚‰çš„æ—¥å¿—è¾“å‡ºç»“æœï¼Œå’Œä¸Šé¢ç¨æœ‰ä¸åŒï¼Œè¿™é‡Œä¸»è¦æ˜¯å¤šäº†â€œConfiguring the external load balancerâ€å’Œâ€œJoining more control-plane nodesâ€ï¼š&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-sh" data-lang="sh">&lt;span style="display:flex;">&lt;span>Creating cluster &lt;span style="color:#4e9a06">&amp;#34;dev6&amp;#34;&lt;/span> ...
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> âœ“ Ensuring node image &lt;span style="color:#ce5c00;font-weight:bold">(&lt;/span>kindest/node:v1.22.0&lt;span style="color:#ce5c00;font-weight:bold">)&lt;/span> ğŸ–¼
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> âœ“ Preparing nodes ğŸ“¦ ğŸ“¦ ğŸ“¦ ğŸ“¦ ğŸ“¦ ğŸ“¦
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> âœ“ Configuring the external load balancer âš–ï¸
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> âœ“ Writing configuration ğŸ“œ
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> âœ“ Starting control-plane ğŸ•¹ï¸
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> âœ“ Installing CNI ğŸ”Œ
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> âœ“ Installing StorageClass ğŸ’¾
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> âœ“ Joining more control-plane nodes ğŸ®
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> âœ“ Joining worker nodes ğŸšœ
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>Set kubectl context to &lt;span style="color:#4e9a06">&amp;#34;kind-dev6&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>You can now use your cluster with:
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>kubectl cluster-info --context kind-dev6
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>Have a nice day! ğŸ‘‹
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>è¿™é‡Œä¹Ÿå¯ä»¥çœ‹åˆ°å‡ ä¸ªå¾ˆæœ‰è¶£çš„ç»†èŠ‚ï¼Œæ¯”å¦‚â€œPreparing nodesâ€æ­¥éª¤åé¢å°ç›’å­æ•°é‡å’ŒèŠ‚ç‚¹æ•°æ˜¯ç›¸ç­‰çš„ï¼›å¦å¤–æœ€åä¸€å¥é—®å€™è¯­ä¹Ÿä¸æ˜¯å›ºå®šçš„ã€‚æ¯”å¦‚å‰é¢æ˜¯â€œThanks for using kind! ğŸ˜Šâ€ï¼Œè¿™é‡Œåˆå˜æˆäº†â€œHave a nice day! ğŸ‘‹â€ï¼Œå¯è§ KindèƒŒåçš„å¼€å‘è€…æ˜¯ä¸€ç¾¤â€œå¯çˆ±â€åˆâ€œæœ‰è¶£â€çš„å·¥ç¨‹å¸ˆï¼&lt;/p>
&lt;p>åŒæ ·æˆ‘ä»¬é€šè¿‡å‡ ä¸ªå‘½ä»¤çœ‹ä¸€ä¸‹åˆšæ‰åˆ›å»ºçš„é›†ç¾¤ï¼š&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-sh" data-lang="sh">&lt;span style="display:flex;">&lt;span>$ kubectl cluster-info --context kind-dev6
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>Kubernetes control plane is running at https://127.0.0.1:52937
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>CoreDNS is running at https://127.0.0.1:52937/api/v1/namespaces/kube-system/services/kube-dns:dns/proxy
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>To further debug and diagnose cluster problems, use &lt;span style="color:#4e9a06">&amp;#39;kubectl cluster-info dump&amp;#39;&lt;/span>.
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>$ kubectl get node
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>NAME STATUS ROLES AGE VERSION
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>dev6-control-plane Ready control-plane,master 8m19s v1.22.0
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>dev6-control-plane2 Ready control-plane,master 7m46s v1.22.0
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>dev6-control-plane3 Ready control-plane,master 7m20s v1.22.0
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>dev6-worker Ready &amp;lt;none&amp;gt; 7m v1.22.0
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>dev6-worker2 Ready &amp;lt;none&amp;gt; 7m v1.22.0
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>dev6-worker3 Ready &amp;lt;none&amp;gt; 7m v1.22.0
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>ä¸Šè¿°å‘½ä»¤æ‰§è¡Œç»“æœå¯ä»¥å¾ˆæ¸…æ™°çœ‹åˆ°è¿™ä¸ª dev6 é›†ç¾¤æœ‰3ä¸ª Master èŠ‚ç‚¹å’Œ 3 ä¸ª Worker èŠ‚ç‚¹ã€‚&lt;/p>
&lt;p>åˆ°è¿™é‡Œæˆ‘ä»¬å°±æŒæ¡äº†é€šè¿‡ Kind æ¥éå¸¸è½»æ¾åœ°æ­å»ºå¤šèŠ‚ç‚¹çš„ Kubernetes é›†ç¾¤ç¯å¢ƒï¼Œåé¢å¤§å®¶å¯ä»¥æ ¹æ®è‡ªå·±çš„éœ€è¦æ¥é€‰æ‹©èŠ‚ç‚¹è§„æ¨¡å’Œè§’è‰²ï¼Œæ­å»ºåˆé€‚çš„æµ‹è¯•ç¯å¢ƒã€‚&lt;/p>
&lt;h2 id="kind-ç”¨æ³•è¿›é˜¶">Kind ç”¨æ³•è¿›é˜¶&lt;/h2>
&lt;p>é€šè¿‡å‰é¢å‡ èŠ‚çš„å­¦ä¹ ï¼Œæˆ‘ä»¬å·²ç»æŒæ¡äº†ç”¨ Kind æ­å»ºå„ç§ç±»å‹çš„é›†ç¾¤ã€‚ä½†æ˜¯è¦ç”¨å¥½è¿™äº›é›†ç¾¤ï¼Œè¿˜éœ€è¦æŒæ¡ä¸€äº›è¿ç»´æŠ€å·§ï¼Œæœ¬å°èŠ‚æˆ‘ä»¬æ¥å­¦ä¹ ä¸€ä¸‹ Kind é›†ç¾¤çš„çš„ä¸€äº›è¿›é˜¶æ“ä½œã€‚&lt;/p>
&lt;h3 id="ç«¯å£æ˜ å°„">ç«¯å£æ˜ å°„&lt;/h3>
&lt;p>è®¾æƒ³ä¸€ç§åœºæ™¯ï¼šæˆ‘ä»¬åœ¨ Kind é›†ç¾¤ä¸­è¿è¡Œä¸€ä¸ª Nginx å®¹å™¨æœåŠ¡ï¼Œç›‘å¬ 80 ç«¯å£å¯¹å¤–æš´éœ²ï¼Œè¿™æ—¶å€™åœ¨å¦å¤–ä¸€å°æœºå™¨ä¸Šèƒ½ä¸èƒ½è®¿é—®åˆ° Kind é›†ç¾¤æ‰€åœ¨æœºå™¨çš„ 80 ç«¯å£è¿›è€Œè®¿é—®åˆ°è¿™ä¸ª Nginx æœåŠ¡å‘¢ï¼Ÿå…¶å®ä¸è¡Œï¼Œè¿™ä¸¤ä¸ª 80 ç«¯å£æ˜æ˜¾ä¸åœ¨ä¸€ä¸ªç½‘ç»œå‘½åç©ºé—´ã€‚æˆ‘ä»¬å¯ä»¥é€šè¿‡å¦‚ä¸‹æ–¹å¼æ¥é…ç½®ç«¯å£æ˜ å°„ï¼Œè§£å†³è¿™ç±»é—®é¢˜ã€‚&lt;/p>
&lt;p>åœ¨é…ç½®æ–‡ä»¶ä¸­å¢åŠ  extraPortMappings é…ç½®é¡¹ï¼š&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-yaml" data-lang="yaml">&lt;span style="display:flex;">&lt;span>&lt;span style="color:#204a87;font-weight:bold">kind&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000">Cluster&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline">&lt;/span>&lt;span style="color:#204a87;font-weight:bold">apiVersion&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000">kind.x-k8s.io/v1alpha4&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline">&lt;/span>&lt;span style="color:#204a87;font-weight:bold">nodes&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline">&lt;/span>- &lt;span style="color:#204a87;font-weight:bold">role&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000">control-plane&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">extraPortMappings&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>- &lt;span style="color:#204a87;font-weight:bold">containerPort&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#0000cf;font-weight:bold">80&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">hostPort&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#0000cf;font-weight:bold">80&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">listenAddress&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#4e9a06">&amp;#34;0.0.0.0&amp;#34;&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">protocol&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000">tcp&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>è¿™æ ·æˆ‘ä»¬æ­å»ºå‡ºæ¥åˆ° Kubernetes é›†ç¾¤ä¸­ä½¿ç”¨ NodePort æš´éœ²çš„ 80 ç«¯å£æˆ–è€…æ˜¯ hostNetwork æ–¹å¼æš´éœ² 80 ç«¯å£çš„ Pod å°±å¯ä»¥é€šè¿‡ä¸»æœºçš„ 80 ç«¯å£æ¥è®¿é—®åˆ°äº†ã€‚&lt;/p>
&lt;h3 id="æš´éœ²-kube-apiserver">æš´éœ² kube-apiserver&lt;/h3>
&lt;p>æœ‰æ—¶å€™æˆ‘ä»¬ä¼šåœ¨ä¸€å°æœºå­ä¸Šä½¿ç”¨ Kind æ­å»ºä¸€å¥— Kubernetes ç¯å¢ƒï¼Œåœ¨å¦å¤–ä¸€å°æœºå™¨ä¸Šå†™ä»£ç ï¼Œè¿™æ—¶å€™ä¼šå‘ç°æˆ‘ä»¬æ— æ³•è¿æ¥åˆ° Kind é›†ç¾¤ä¸­çš„ kube-apiserver æ¥è°ƒè¯•ç¨‹åºã€‚å…¶å®æ˜¯å› ä¸ºé»˜è®¤é…ç½®ä¸‹ kube-apiserver ç›‘å¬ 127.0.0.1 åŠ éšæœºç«¯å£ï¼Œæˆ‘ä»¬è¦ä»å¤–éƒ¨è®¿é—®å°±éœ€è¦æŠŠ kube-apiserver ç›‘å¬çš„ç½‘å¡æ”¹æˆé lo çš„å¯¹å¤–ç½‘å¡ï¼Œæ¯”å¦‚ eth0ã€‚&lt;/p>
&lt;p>åŒæ ·æˆ‘ä»¬é€šè¿‡é…ç½®æ–‡ä»¶è‡ªå®šä¹‰æ¥å®ç°ï¼Œæ·»åŠ  networking.apiServerAddress é…ç½®é¡¹ï¼Œå€¼æ˜¯æœ¬åœ°ç½‘å¡ ipï¼Œæ ¹æ®å®é™…æƒ…å†µä¿®æ”¹ï¼š&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-yaml" data-lang="yaml">&lt;span style="display:flex;">&lt;span>&lt;span style="color:#204a87;font-weight:bold">kind&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000">Cluster&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline">&lt;/span>&lt;span style="color:#204a87;font-weight:bold">apiVersion&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000">kind.x-k8s.io/v1alpha4&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline">&lt;/span>&lt;span style="color:#204a87;font-weight:bold">networking&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">apiServerAddress&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#4e9a06">&amp;#34;192.168.39.1&amp;#34;&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h3 id="å¯ç”¨-feature-gates">å¯ç”¨ Feature Gates&lt;/h3>
&lt;p>å¦‚æœæˆ‘ä»¬è¦ä½¿ç”¨ä¸€äº› alpha é˜¶æ®µçš„ç‰¹æ€§ï¼Œå°±éœ€è¦é€šè¿‡é…ç½® Feature Gates æ¥å®ç°äº†ã€‚åœ¨ä½¿ç”¨ kubeadm æ­å»ºç¯å¢ƒçš„æ—¶å€™ï¼Œæ˜¯å¯ä»¥é€šè¿‡é…ç½® ClusterConfiguration æ¥å®ç°è¿™ä¸ªéœ€æ±‚çš„ï¼Œkubeadm è¢« Kind å°è£…åï¼Œæˆ‘ä»¬åœ¨ Kind é‡Œå¦‚ä½•å¯ç”¨ Feature Gates å‘¢ï¼Ÿ&lt;/p>
&lt;p>æ–¹æ¡ˆå¦‚ä¸‹ï¼ŒFeatureGateName å°±æ˜¯æˆ‘ä»¬éœ€è¦å¯ç”¨çš„ Feature Gate åå­—ï¼š&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-yaml" data-lang="yaml">&lt;span style="display:flex;">&lt;span>&lt;span style="color:#204a87;font-weight:bold">kind&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000">Cluster&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline">&lt;/span>&lt;span style="color:#204a87;font-weight:bold">apiVersion&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000">kind.x-k8s.io/v1alpha4&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline">&lt;/span>&lt;span style="color:#204a87;font-weight:bold">featureGates&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">FeatureGateName&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">true&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h3 id="å¯¼å…¥é•œåƒ">å¯¼å…¥é•œåƒ&lt;/h3>
&lt;p>é€šè¿‡ kind æ­å»ºçš„ç¯å¢ƒæœ¬è´¨æ˜¯è¿è¡Œåœ¨ä¸€ä¸ªå®¹å™¨å†…ï¼Œå®¿ä¸»æœºä¸Šçš„é•œåƒé»˜è®¤ä¸èƒ½è¢« Kind ç¯å¢ƒæ‰€è¯†åˆ«åˆ°ï¼Œè¿™æ—¶æˆ‘ä»¬å¯ä»¥é€šè¿‡å¦‚ä¸‹æ–¹å¼å¯¼å…¥é•œåƒï¼š&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-sh" data-lang="sh">&lt;span style="display:flex;">&lt;span>&lt;span style="color:#8f5902;font-style:italic"># å‡å¦‚éœ€è¦çš„é•œåƒæ˜¯ my-image:v1&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>kind load docker-image my-image:v1 --name dev
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#8f5902;font-style:italic"># å‡å¦‚éœ€è¦çš„é•œåƒæ˜¯ä¸€ä¸ª tar åŒ… my-image.tar&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>kind load image-archive my-image.tar --name dev
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>çŸ¥é“äº†è¿™ä¸ªæ–¹æ³•åï¼Œæˆ‘ä»¬æ„å»ºä¸€ä¸ªæ–°é•œåƒéœ€è¦æ”¾åˆ° Kind ç¯å¢ƒé‡Œè¿è¡Œï¼Œå°±å¯ä»¥é€šè¿‡ç±»ä¼¼å¦‚ä¸‹æ­¥éª¤æ¥å®ç°äº†ï¼š&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-sh" data-lang="sh">&lt;span style="display:flex;">&lt;span>docker build -t my-image:v1 ./my-image-dir
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>kind load docker-image my-image:v1
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>kubectl apply -f my-image.yaml
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>æ€ä¹ˆæŸ¥çœ‹å½“å‰ Kind ç¯å¢ƒé‡Œæœ‰å“ªäº›é•œåƒå‘¢ï¼Ÿä¹Ÿå¾ˆç®€å•ï¼Œå¯ä»¥è¿™æ ·ï¼š&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-sh" data-lang="sh">&lt;span style="display:flex;">&lt;span>docker &lt;span style="color:#204a87">exec&lt;/span> -it dev-control-plane crictl images
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>å…¶ä¸­ dev-control-plane æ˜¯ node å®¹å™¨åï¼Œæœ‰å¤šå¥—ç¯å¢ƒæ—¶è¿™ä¸ªåå­—éœ€è¦å¯¹åº”çµæ´»åˆ‡æ¢ã€‚å¦å¤–å¯ä»¥é€šè¿‡ crictl -h æŸ¥çœ‹ crictl æ‰€æ”¯æŒçš„å…¶ä»–å‘½ä»¤ï¼Œæ¯”å¦‚ crictl rmi &amp;lt;image_name&amp;gt; å¯ä»¥ç”¨äºåˆ é™¤é•œåƒç­‰ã€‚&lt;/p>
&lt;h2 id="å°ç»“">å°ç»“&lt;/h2>
&lt;p>æ²¡å•¥å¥½æ€»ç»“çš„ï¼Œæ€»ä¹‹å¸Œæœ›å¤§å®¶æ­ç¯å¢ƒé¡ºåˆ©ï¼&lt;/p>
&lt;p>I have to AFK and have a cup of coffee NOW!&lt;/p></description></item><item><title>Blog: DevStream Community New Members</title><link>https://www.devstream.io/zh/blog/devstream-community-new-members/</link><pubDate>Sat, 02 Apr 2022 00:00:00 +0000</pubDate><guid>https://www.devstream.io/zh/blog/devstream-community-new-members/</guid><description>
&lt;img src="https://www.devstream.io/zh/blog/devstream-community-new-members/featured-background_hu4ad02ea3c73fd5dac6e4f6f5b80bff75_1180936_640x0_resize_q75_catmullrom.jpg" width="640" height="351"/>
&lt;div class="card rounded p-2 td-post-card mb-4 mt-4" style="max-width: 2310px">
&lt;img class="card-img-top" src="https://www.devstream.io/zh/blog/devstream-community-new-members/featured-background_hu4ad02ea3c73fd5dac6e4f6f5b80bff75_1180936_2300x1200_fill_q75_catmullrom_smart1.jpg" width="2300" height="1200">
&lt;div class="card-body px-0 pt-2 pb-0">
&lt;p class="card-text">
ç‰çŸ³å…¬å›­-è‡ªè¡Œè½¦
&lt;small class="text-muted">&lt;br/>Photo: èƒ¡æ¶› / CC-BY-CA&lt;/small>&lt;/p>
&lt;/div>
&lt;/div>
&lt;p>2022 å¹´ 3 æœˆ DevStream æ­£å¼å‘å¸ƒ v0.1 ç‰ˆæœ¬ä»¥æ¥ï¼Œåœ¨çŸ­çŸ­ä¸€ä¸ªæœˆå†…æ”¶è·äº†æ•°ä½è´¡çŒ®è€…ï¼ä»–ä»¬éƒ½åœ¨ DevStream ç¤¾åŒºéå¸¸æ´»è·ƒï¼Œ
ä»¥å¾ˆé«˜å¯¹ç§¯ææ€§å‚ä¸ bug åé¦ˆã€æ–‡æ¡£å®Œå–„ã€æŠ€æœ¯å¸ƒé“ã€bugfixã€feature å¼€å‘ç­‰ç­‰ç¤¾åŒºå·¥ä½œï¼è¿™äº›å…¨éƒ¨éƒ½æ˜¯æˆ‘ä»¬éå¸¸è®¤å¯çš„è´¡çŒ®æ–¹å¼ï¼
æ‰€æœ‰çš„&amp;quot;è®¤è¯&amp;quot;è´¡çŒ®è€…å¯ä»¥åœ¨ &lt;a href="https://www.devstream.io/zh/blog/devstream-community-new-members/">Contributors&lt;/a> çœ‹åˆ°ã€‚&lt;/p>
&lt;p>æ²¡é”™ï¼Œåœ¨è¿™çŸ­çŸ­ä¸€ä¸ªæœˆé‡Œå·²ç»æœ‰æ•°ä½ Contributors ç”±äºå…¶è´¡çŒ®çªå‡ºï¼Œæˆ‘ä»¬å†³å®šé‚€è¯·ä»–ä»¬åŠ å…¥ DevStream GitHub Organizationï¼Œæˆä¸º DevStream Memberï¼&lt;/p>
&lt;h2 id="2022-å¹´-3-æœˆæ–°æ™‹-member">2022 å¹´ 3 æœˆæ–°æ™‹ Member&lt;/h2>
&lt;p>ç»è¿‡ DevStream PMC å†…éƒ¨æŠ•ç¥¨è¡¨å†³ï¼Œæˆ‘ä»¬å†³å®šé‚€è¯·å¾æ­¦ã€é™ˆæ˜ åˆå’Œä½™è‹æ˜å’Œè°¢å¼€å¤©å››ä½ Contributor æ™‹å‡ä¸º Memberï¼&lt;/p>
&lt;hr>
&lt;h3 id="å¾æ­¦">å¾æ­¦&lt;/h3>
&lt;hr>
&lt;p>&lt;img src="./xuwu.jpeg" alt="">&lt;/p>
&lt;h3 id="é™ˆæ˜ åˆ">é™ˆæ˜ åˆ&lt;/h3>
&lt;hr>
&lt;p>&lt;img src="./chenyingchu.jpeg" alt="">&lt;/p>
&lt;h3 id="ä½™è‹æ˜">ä½™è‹æ˜&lt;/h3>
&lt;hr>
&lt;p>&lt;img src="./yusuming.jpeg" alt="">&lt;/p>
&lt;h3 id="è°¢å¼€å¤©">è°¢å¼€å¤©&lt;/h3>
&lt;hr>
&lt;p>&lt;img src="./xiekaitian.jpeg" alt="">&lt;/p>
&lt;h3 id="ç§€æ¯å­æ—¶é—´">ç§€æ¯å­æ—¶é—´&lt;/h3>
&lt;p>(æ²¡é”™ï¼Œè¿™äº›ç…§ç‰‡çœ‹ç€å¾ˆä¸ä¸“ä¸šã€‚æŠ¢é•œçš„å„ç§æ‚ç‰©ã€‚ä½†æ˜¯ã€‚çœŸå®ï¼)&lt;/p>
&lt;p>(å„ä½ Membersï¼Œå¦‚æœè§‰å¾—è‡ªå·±æ²¡å‘æŒ¥å¥½ï¼Œè¯·éšæ—¶å°†æœ€æ–°ç…§ç‰‡å‘ç»™æˆ‘ï¼ŒI&amp;rsquo;ll update it in no time!)&lt;/p>
&lt;p>&lt;img src="./cyc-cup.jpg" alt="">&lt;/p>
&lt;hr>
&lt;p>&lt;img src="./ysm-cup.jpg" alt="">&lt;/p></description></item><item><title>Blog: DevStream Community Contributors</title><link>https://www.devstream.io/zh/blog/devstream-community-contributors/</link><pubDate>Thu, 31 Mar 2022 00:00:00 +0000</pubDate><guid>https://www.devstream.io/zh/blog/devstream-community-contributors/</guid><description>
&lt;img src="https://www.devstream.io/zh/blog/devstream-community-contributors/featured-background_hu7daadfa63160154b78ca53981d447506_4746096_640x0_resize_q75_catmullrom.jpg" width="640" height="404"/>
&lt;div class="card rounded p-2 td-post-card mb-4 mt-4" style="max-width: 3710px">
&lt;img class="card-img-top" src="https://www.devstream.io/zh/blog/devstream-community-contributors/featured-background_hu7daadfa63160154b78ca53981d447506_4746096_3700x2350_fill_q75_catmullrom_smart1.jpg" width="3700" height="2350">
&lt;div class="card-body px-0 pt-2 pb-0">
&lt;p class="card-text">
ä¸‰æ˜Ÿå †çºªå¿µå“é©¬å…‹æ¯
&lt;small class="text-muted">&lt;br/>Photo: èƒ¡æ¶› / CC-BY-CA&lt;/small>&lt;/p>
&lt;/div>
&lt;/div>
&lt;h2 id="2022-å¹´-3-æœˆæ–°æ™‹è´¡çŒ®è€…">2022 å¹´ 3 æœˆæ–°æ™‹è´¡çŒ®è€…&lt;/h2>
&lt;p>ç»è¿‡ DevStream PMC å†…éƒ¨æŠ•ç¥¨è¡¨å†³ï¼Œæˆ‘ä»¬å†³å®šé‚€è¯·å¾æ­¦ã€é™ˆæ˜ åˆã€ä½™è‹æ˜å’Œè°¢å¼€å¤©å››ä½è´¡çŒ®è€…æˆä¸º Contributorï¼&lt;/p>
&lt;hr>
&lt;h3 id="å¾æ­¦">å¾æ­¦&lt;/h3>
&lt;hr>
&lt;p>&lt;img src="./xuwu.jpeg" alt="">&lt;/p>
&lt;h3 id="é™ˆæ˜ åˆ">é™ˆæ˜ åˆ&lt;/h3>
&lt;hr>
&lt;p>&lt;img src="./chenyingchu.jpeg" alt="">&lt;/p>
&lt;h3 id="ä½™è‹æ˜">ä½™è‹æ˜&lt;/h3>
&lt;hr>
&lt;p>&lt;img src="./yusuming.jpeg" alt="">&lt;/p>
&lt;h3 id="è°¢å¼€å¤©">è°¢å¼€å¤©&lt;/h3>
&lt;hr>
&lt;p>&lt;img src="./xiekaitian.jpeg" alt="">&lt;/p></description></item><item><title>Blog: v0.3.1 Release Note</title><link>https://www.devstream.io/zh/blog/v0.3.1-release-note/</link><pubDate>Thu, 31 Mar 2022 00:00:00 +0000</pubDate><guid>https://www.devstream.io/zh/blog/v0.3.1-release-note/</guid><description>
&lt;h2 id="ä¸‹è½½-devstream-v031">ä¸‹è½½ DevStream v0.3.1&lt;/h2>
&lt;p>å®˜æ–¹ç‰ˆæœ¬:&lt;/p>
&lt;ul>
&lt;li>&lt;a href="https://devstream.gateway.scarf.sh/releases/v0.3.1/dtm-darwin-arm64">dtm-darwin-arm64&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://devstream.gateway.scarf.sh/releases/v0.3.1/dtm-darwin-amd64">dtm-darwin-amd64&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://devstream.gateway.scarf.sh/releases/v0.3.1/dtm-linux-amd64">dtm-linux-amd64&lt;/a>&lt;/li>
&lt;/ul>
&lt;p>ä»v0.3.1èµ·ï¼Œæˆ‘ä»¬è¿˜æ”¯æŒé€šè¿‡brewå®‰è£…: &lt;code>brew install devstream-io/devstream/dtm&lt;/code>. ä¾‹:&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-shell" data-lang="shell">&lt;span style="display:flex;">&lt;span>$ brew install devstream-io/devstream/dtm
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#ce5c00;font-weight:bold">==&lt;/span>&amp;gt; Downloading https://github.com/devstream-io/homebrew-devstream/releases/download/dtm-0.3.1/dtm-0.3.1.arm64_monterey.bottle.tar.gz
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#ce5c00;font-weight:bold">==&lt;/span>&amp;gt; Downloading from https://objects.githubusercontent.com/github-production-release-asset-2e65be/474804179/268d59c6-9b12-419e-ac75-e77e87428d3b?X-Amz-Algorit
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#8f5902;font-style:italic">######################################################################## 100.0%&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#ce5c00;font-weight:bold">==&lt;/span>&amp;gt; Installing dtm from devstream-io/devstream
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#ce5c00;font-weight:bold">==&lt;/span>&amp;gt; Pouring dtm-0.3.1.arm64_monterey.bottle.tar.gz
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>ğŸº /opt/homebrew/Cellar/dtm/0.3.1: &lt;span style="color:#0000cf;font-weight:bold">3&lt;/span> files, 13.5MB
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#ce5c00;font-weight:bold">==&lt;/span>&amp;gt; Running &lt;span style="color:#4e9a06">`&lt;/span>brew cleanup dtm&lt;span style="color:#4e9a06">`&lt;/span>...
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>Disable this behaviour by setting HOMEBREW_NO_INSTALL_CLEANUP.
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>Hide these hints with HOMEBREW_NO_ENV_HINTS &lt;span style="color:#ce5c00;font-weight:bold">(&lt;/span>see &lt;span style="color:#4e9a06">`&lt;/span>man brew&lt;span style="color:#4e9a06">`&lt;/span>&lt;span style="color:#ce5c00;font-weight:bold">)&lt;/span>.
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>$ dtm version
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>0.3.1
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>&lt;em>å¼€å‘è€…æ³¨ï¼šä»æŠ€æœ¯ä¸Šè®²ï¼Œè¿™ä¸ªç‰ˆæœ¬å¹¶ä¸èƒ½å‘åå…¼å®¹v0.3.0; æ‰€ä»¥å®ƒä¸åº”è¯¥æ˜¯v0.3.1, è€Œæ˜¯ v1.0.0. ä½†æ˜¯ï¼Œæˆ‘ä»¬è¿˜æ²¡æœ‰å‡†å¤‡å¥½å°†å…¶åˆ¶ä½œä¸º&amp;quot;v1.0.0&amp;quot;ã€‚ å› æ­¤è¯·åŸè°…æˆ‘ä»¬ä¸€æ¬¡ä¸éµå®ˆSEMVERè§„åˆ™çš„ä¾‹å¤–æƒ…å†µ.&lt;/em>&lt;/p>
&lt;h2 id="è‡ªv030ä»¥æ¥çš„ä¸»è¦æ”¹è¿›">è‡ªv0.3.0ä»¥æ¥çš„ä¸»è¦æ”¹è¿›&lt;/h2>
&lt;p>æˆ‘ä»¬ç°åœ¨æœ‰äº†ä¸€ä¸ªæ–°logoï¼æŸ¥çœ‹æˆ‘ä»¬çš„ &lt;a href="https://github.com/devstream-io/devstream#readme=">README.md&lt;/a>.&lt;/p>
&lt;p>å¦å¤–ï¼Œæˆ‘ä»¬çš„ç½‘ç«™ç°åœ¨ä¹Ÿä¸Šçº¿äº†:&lt;/p>
&lt;ul>
&lt;li>&lt;a href="https://www.devstream.io/">homepage&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://www.devstream.io/blog/">blog&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://docs.devstream.io/en/latest/">docs&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://medium.com/devstream">Medium&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://dev.to/devstream">dev.to&lt;/a>&lt;/li>
&lt;/ul>
&lt;h2 id="æ ¸å¿ƒ">æ ¸å¿ƒ&lt;/h2>
&lt;ul>
&lt;li>æ’ä»¶ç‰ˆæœ¬çš„æ”¹è¿›ã€‚è¿™æ˜¯ä¸€ä¸ªä¸èƒ½å‘å‰å…¼å®¹çš„å˜åŒ–ã€‚ç°åœ¨ï¼Œ&lt;code>dtm&lt;/code>å°†è‡ªåŠ¨ä¸‹è½½åŒ¹é…ç‰ˆæœ¬çš„æ’ä»¶ï¼Œè€Œæ— éœ€åœ¨é…ç½®ä¸­æŒ‡å®šæ¯ä¸ªæ’ä»¶çš„ç‰ˆæœ¬ã€‚&lt;/li>
&lt;li>ç°åœ¨æ”¯æŒé€šè¿‡brewå®‰è£…ï¼š&lt;code>brew install devstream-io/devstream/dtm&lt;/code>. æ„Ÿè°¢ @algobot76.&lt;/li>
&lt;/ul>
&lt;h2 id="å¼€å‘">å¼€å‘&lt;/h2>
&lt;ul>
&lt;li>&lt;code>dtm develop&lt;/code>å‘½ä»¤ç°åœ¨å¯ä»¥ä¸ºæ‚¨ç”Ÿæˆæ›´å¤šçš„è„šæ‰‹æ¶ä»£ç ï¼Œä»¥ä¾¿æ‚¨å¯ä»¥è½»æ¾åœ°åˆ›å»ºæ–°æ’ä»¶. å¦‚æœæ‚¨æœ‰å…´è¶£ï¼Œè¯·é˜…è¯»&lt;a href="https://www.devstream.io/zh/blog/creating-a-devstream-dtm-plugin-for-anything/">è¿™ç¯‡åšå®¢&lt;/a>.&lt;/li>
&lt;li>å¤šçº¿ç¨‹æ„å»ºï¼Œæ„Ÿè°¢ @algobot76.&lt;/li>
&lt;li>Makefileæ”¹è¿›ï¼šå½“æ‚¨åˆ›å»ºæ–°æ’ä»¶æ—¶ï¼Œæ‚¨ä¸å¿…æ›´æ”¹ Makefileã€‚æ„Ÿè°¢ @summingyu.&lt;/li>
&lt;li>è‡ªåŠ¨å‘å¸ƒæ–°ç‰ˆæœ¬ã€‚&lt;/li>
&lt;li>é‡æ„ç›®å½•åã€æ–‡æ¡£åç­‰ï¼Œæ„Ÿè°¢ @imxw, @summingyu, etc.&lt;/li>
&lt;/ul>
&lt;h2 id="æ–‡æ¡£">æ–‡æ¡£&lt;/h2>
&lt;ul>
&lt;li>åˆ›å»ºäº†ä¸€ä¸ªå…³äº&amp;quot;output&amp;quot;åŠŸèƒ½çš„æ–°æ–‡æ¡£ã€‚&lt;/li>
&lt;li>åˆ›å»ºäº†ä¸€ä¸ªå…³äº&lt;code>dtm destroy&lt;/code>å‘½ä»¤çš„æ–°æ–‡æ¡£ã€‚&lt;/li>
&lt;li>æˆ‘ä»¬çš„æ–‡æ¡£å¯ä»¥åœ¨&lt;a href="https://docs.devstream.io/en/latest/">readthedocs.io&lt;/a>æŸ¥é˜…ã€‚&lt;/li>
&lt;/ul>
&lt;h2 id="æ–°æ™‹è´¡çŒ®è€…">æ–°æ™‹è´¡çŒ®è€…&lt;/h2>
&lt;ul>
&lt;li>@algobot76 made their first contribution in &lt;a href="https://github.com/devstream-io/devstream/pull/353">https://github.com/devstream-io/devstream/pull/353&lt;/a>&lt;/li>
&lt;/ul>
&lt;p>&lt;strong>å…¨éƒ¨æ”¹åŠ¨&lt;/strong>: &lt;a href="https://github.com/devstream-io/devstream/compare/v0.3.0...v0.3.1">https://github.com/devstream-io/devstream/compare/v0.3.0...v0.3.1&lt;/a>&lt;/p></description></item><item><title>Blog: Creating a DevStream (dtm) Plugin for Anything</title><link>https://www.devstream.io/zh/blog/creating-a-devstream-dtm-plugin-for-anything/</link><pubDate>Tue, 29 Mar 2022 00:00:00 +0000</pubDate><guid>https://www.devstream.io/zh/blog/creating-a-devstream-dtm-plugin-for-anything/</guid><description>
&lt;img src="https://www.devstream.io/zh/blog/creating-a-devstream-dtm-plugin-for-anything/featured-background_hubced0a870f76eab482d622a0dd2f964e_408122_640x0_resize_q75_catmullrom.jpg" width="640" height="427"/>
&lt;div class="card rounded p-2 td-post-card mb-4 mt-4" style="max-width: 1210px">
&lt;img class="card-img-top" src="https://www.devstream.io/zh/blog/creating-a-devstream-dtm-plugin-for-anything/featured-background_hubced0a870f76eab482d622a0dd2f964e_408122_1200x800_fill_q75_catmullrom_smart1.jpg" width="1200" height="800">
&lt;div class="card-body px-0 pt-2 pb-0">
&lt;p class="card-text">
æˆéƒ½å…´éš†æ¹–ç•”æ˜Ÿå·´å…‹é—¨å£çš„çŒ«
&lt;small class="text-muted">&lt;br/>Photo: Tiexin Guo / CC-BY-CA&lt;/small>&lt;/p>
&lt;/div>
&lt;/div>
&lt;p>ä½ æ²¡çœ‹é”™ï¼Œè¿™ä¸ªæ ‡é¢˜ä¸æ˜¯åœ¨çå¹ï¼Œä¸ç®¡ä½ æƒ³åŠ ä»€ä¹ˆå¥‡å¥‡æ€ªæ€ªçš„åŠŸèƒ½åˆ° DevStream é‡Œé¢ï¼Œéƒ½å¯ä»¥é€šè¿‡è‡ªå®šä¹‰ä¸€ä¸ªæ–°æ’ä»¶æ¥å®ç°ã€‚ï¼ˆå½“ç„¶è¯·ä¸è¦è¯•å›¾é€šè¿‡æ’ä»¶æ–¹å¼å®ç° dtm å‘½ä»¤å»æ ¹æ®ç”¨æˆ·å¿ƒæƒ…æ”¹å˜æ—¥å¿—é¢œè‰²å•¥çš„ã€‚ï¼‰&lt;/p>
&lt;blockquote>
&lt;p>è¿˜è®°å¾—ä¸Šä¸€ç¯‡æ–‡ç« å—ï¼Ÿæˆ‘ä»¬ä»‹ç»è¿‡ DevStream çš„ä»£ç åº“ã€‚æ²¡çœ‹è¿‡ï¼Ÿè¿™æ˜¯é“¾æ¥ï¼š&lt;/p>
&lt;p>&lt;a href="../hello-world">ä½ å¥½ï¼Œä¸–ç•Œï¼&lt;/a>.&lt;/p>
&lt;/blockquote>
&lt;p>ä»Šå¤©æˆ‘ä»¬å‡†å¤‡é€šè¿‡ä¸€ä¸ªå° demo ç¨‹åºæ¥å±•ç¤ºå¦‚ä½•ä»é›¶å¼€å‘ä¸€ä¸ªæ–°æ’ä»¶ã€‚&lt;/p>
&lt;hr>
&lt;blockquote>
&lt;p>English version: &lt;a href="https://www.devstream.io/blog/creating-a-devstream-dtm-plugin-for-anything/">ã€ŠCreating a DevStream (dtm) Plugin for Anythingã€‹&lt;/a>Author: @Tiexin Guo(éƒ­é“å¿ƒ)&lt;/p>
&lt;p>ä¸­æ–‡ç‰ˆï¼š&lt;a href="../creating-a-devstream-dtm-plugin-for-anything/">ã€Šç»™ DevStream (dtm) å¼€å‘ä¸€ä¸ªæ’ä»¶ï¼Œæ•´åˆä¸€åˆ‡ä½ æƒ³è¦çš„åŠŸèƒ½ã€‹&lt;/a>ä½œè€…ï¼š@èƒ¡æ¶›(Daniel Hu)&lt;/p>
&lt;/blockquote>
&lt;hr>
&lt;h2 id="ä¸€å¥è¯æ€»ç»“-ä»€ä¹ˆé‡éŸ³æ˜¯åœé¡¿-devstream">ä¸€å¥è¯æ€»ç»“: ä»€ä¹ˆï¼ˆé‡éŸ³ï¼‰ï¼Œæ˜¯ï¼ˆåœé¡¿ï¼‰ DevStreamï¼Ÿ&lt;/h2>
&lt;p>DevStream æ˜¯ä¸€ä¸ªèƒ½å¤Ÿå¿«é€Ÿå®‰è£…ã€æ›´æ–°ã€ç®¡ç†ã€æ•´åˆä½ çš„ DevOps å·¥å…·çš„å·¥å…·ã€‚ä¸è¦ä¸ºæ­¤æ„Ÿåˆ°æƒŠè®¶ã€‚&lt;/p>
&lt;p>ä¸æ˜¯æˆ‘å¹ï¼Œä½ ç”¨ DevStream å¯èƒ½åœ¨ 5 åˆ†é’Ÿå†…é€ ä¸€æ¡è‡ªå·±â€œæ¢¦æƒ³ä¸­â€çš„ DevOps å·¥å…·é“¾ã€‚&lt;/p>
&lt;p>åˆ«ä¸ä¿¡å‘€ï¼Œä½ è¯•è¿‡æ²¡æœ‰ï¼Ÿè¦æ˜¯ä¸è¡Œï¼Œæ¬¢è¿è¯„è®ºåŒºé‡Œå–·æˆ‘ã€‚&lt;/p>
&lt;p>æ€ä¹ˆè¯•ï¼Ÿæˆ‘ä»¬æœ‰ &lt;a href="https://docs.devstream.io/en/latest/">æ–‡æ¡£&lt;/a> å‘€ï¼Œæ‰“å¼€ï¼Œç„¶åæ‰¾åˆ° Quick Start ç« èŠ‚ï¼Œå¯¹ç€æ•²ï¼&lt;/p>
&lt;p>ï¼ˆåº”è¯¥æ²¡æœ‰äººæ³¨æ„åˆ°è¿™ä¸€æ®µä¸æ­¢ä¸€å¥è¯å§ï¼‰&lt;/p>
&lt;h2 id="ç°åœ¨å·²ç»æœ‰å“ªäº›æ’ä»¶äº†å‘¢">ç°åœ¨å·²ç»æœ‰å“ªäº›æ’ä»¶äº†å‘¢ï¼Ÿ&lt;/h2>
&lt;p>æˆªæ­¢æœ¬æ–‡å‘ç¨¿ï¼Œæˆ‘ä»¬å·²ç»æ”¯æŒå¦‚ä¸‹æ’ä»¶ï¼š&lt;/p>
&lt;ul>
&lt;li>Trello (åŒ…æ‹¬å’Œ GitHub çš„é›†æˆ)&lt;/li>
&lt;li>Jira (åŒ…æ‹¬å’Œ GitHub çš„é›†æˆ)&lt;/li>
&lt;li>GitHub Repository bootstrapping (Go è¯­è¨€)&lt;/li>
&lt;li>GitHub Actions (Goã€Python è¿˜æœ‰ Nodejs)&lt;/li>
&lt;li>GitLab CI (Go è¯­è¨€)&lt;/li>
&lt;li>Jenkins (å®‰è£…)&lt;/li>
&lt;li>ArgoCD&lt;/li>
&lt;li>ArgoCD Application (éƒ¨ç½²ä½ çš„ apps)&lt;/li>
&lt;li>Prometheus + Grafana&lt;/li>
&lt;li>DevLake&lt;/li>
&lt;li>OpenLDAP&lt;/li>
&lt;/ul>
&lt;p>æˆ‘ä»¬çš„ç›®æ ‡ä»Šå¹´å†…å®ç° 50 ä¸ªæ’ä»¶ï¼&lt;/p>
&lt;p>ï¼ˆè¯·åˆ°æˆ‘ä»¬çš„ &lt;a href="https://github.com/devstream-io/devstream">README&lt;/a> æŸ¥çœ‹æœ€æ–°åŠ¨æ€ï¼‰&lt;/p>
&lt;h2 id="ä¸ºä»€ä¹ˆéœ€è¦è‡ªå®šä¹‰å¼€å‘-devstream-æ’ä»¶">ä¸ºä»€ä¹ˆéœ€è¦è‡ªå®šä¹‰å¼€å‘ DevStream æ’ä»¶ï¼Ÿ&lt;/h2>
&lt;p>æˆ–è®¸ä½ ä¼šè¯´ï¼šä½ ä»¬å·²ç»æœ‰å¾ˆå¤šæ’ä»¶äº†å‘€ï¼Œä¸ºä»€ä¹ˆæˆ‘è¿˜è¦å¼€å‘è‡ªå·±çš„æ’ä»¶ï¼Ÿ&lt;/p>
&lt;p>ä½ è¯´çš„å¯¹ã€‚&lt;/p>
&lt;p>ä½†æ˜¯ã€‚&lt;/p>
&lt;p>æ€»æœ‰ä¾‹å¤–ã€‚&lt;/p>
&lt;p>æ¯”å¦‚ï¼š&lt;/p>
&lt;ul>
&lt;li>æˆ–è®¸ä½ æ­£åœ¨å¼€å‘ä¸€ä¸ªå¾ˆé…·çš„ DevOps å·¥å…·ï¼Œä½ æƒ³è¦å¿«é€Ÿéƒ¨ç½²ã€é…ç½®è¿™ä¸ªå·¥å…·ï¼Œè¿™æ—¶å€™ä½ æˆ–è®¸ä¸å¯é¿å…åœ°è¦å†™ä¸€å †è¿ç»´è„šæœ¬æ¥å®ç°ä½ çš„æƒ³æ³•ï¼Œæ˜¯ä¸ï¼ŸDevStream æ‡‚ä½ ã€‚&lt;/li>
&lt;li>æˆ–è®¸ä½ æƒ³è¦æŠŠä½ çš„å·¥å…·å’Œå…¶ä»–å·²æœ‰å·¥å…·åšä¸€ä¸ªæ•´åˆï¼Œä½†æ˜¯å¯èƒ½ä½ æ‡’å¾—èŠ±å¤ªå¤šç²¾åŠ›å¹²è¿™äº›äº‹æƒ…ã€‚DevStream æ‡‚ä½ ã€‚&lt;/li>
&lt;li>æˆ–è®¸ä½ æœ‰ä¸€äº›ä¸æƒ³ï¼ˆæˆ–è€…ä¸èƒ½ï¼Ÿä¸å…è®¸ï¼Ÿï¼‰å¼€æºçš„å·¥å…·ï¼ŒåŒæ—¶æƒ³è¦å°†è¿™äº›å·¥å…·ä¸å¼€æºå·¥å…·é“¾åšä¸€ä¸ªæ•´åˆï¼Œç„¶åå‘¢ï¼ŸDevStream æ‡‚ä½ ã€‚&lt;/li>
&lt;/ul>
&lt;p>æˆ–è€…ä½ åªæ˜¯æƒ³ä½“éªŒä¸€ä¸‹ Go çš„ plugins æœºåˆ¶æ€ä¹ˆç©ï¼Œç„¶åç»™ DevStream æäº¤ä¸€äº› prï¼Œæ¥ç€æˆä¸ºä¸€ä¸ªå…‰è£çš„â€œContributorâ€ï¼Œè¿›è€Œä¸€è·¯æ‰“æ€ªï¼Œå˜æˆâ€œMemberâ€ã€â€œReviewerâ€ï¼Œæˆ–è€…æ˜¯â€œApproverâ€ï¼Œä¹ƒè‡³â€œManagerâ€ï¼Ÿ&lt;/p>
&lt;p>å½“ç„¶è¿™ä¸ªè¿‡ç¨‹ä¹Ÿä¼šä¼´éšç€å¾ˆå¤šæ¼‚äº®çš„è¯ä¹¦ï¼Œæˆ–è€…æ˜¯å„ç§ç¤¾åŒºä¸ºä½ å‡†å¤‡çš„å°ç¤¼ç‰©ï¼Œä¸ç®¡æ˜¯å‡ºå‘ç‚¹æ˜¯ä»€ä¹ˆï¼Œæ€»ä¹‹ DevSteram æ‡‚ä½ ï¼ï¼ï¼&lt;/p>
&lt;p>åºŸè¯å°‘è¯´ï¼Œæˆ‘ä»¬å¼€å§‹å§ï¼&lt;/p>
&lt;h2 id="è®¾è®¡ä¸€ä¸ªå«åš--local-file-çš„æ’ä»¶">è®¾è®¡ï¼šä¸€ä¸ªå«åš &amp;ldquo;Local File&amp;rdquo; çš„æ’ä»¶&lt;/h2>
&lt;p>æ¥ï¼Œæˆ‘ä»¬é€šè¿‡ä¸€ä¸ªç®€å•çš„ demo æ’ä»¶å­¦ä¹ â€œå¼€å‘æ–°æ’ä»¶â€é‚£äº›äº‹ã€‚&lt;/p>
&lt;p>è¿™ä¸ªæ’ä»¶çš„åå­—å«åšï¼šâ€œlocalfileâ€ï¼ŒåŠŸèƒ½æ˜¯æ ¹æ®æˆ‘ä»¬æŒ‡å®šçš„æ–‡ä»¶åå’Œæ–‡ä»¶å†…å®¹æ¥åˆ›å»ºä¸€ä¸ªæœ¬åœ°æ–‡ä»¶ï¼Œå½“ç„¶è¿™ä¸ªæ–‡ä»¶çš„åå­—å°±æ˜¯æˆ‘ä»¬ç»™çš„ filenameï¼Œè€Œå†…å®¹å°±æ˜¯æˆ‘ä»¬ç»™çš„ contentï¼š&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-yaml" data-lang="yaml">&lt;span style="display:flex;">&lt;span>&lt;span style="color:#204a87;font-weight:bold">tools&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline">&lt;/span>- &lt;span style="color:#204a87;font-weight:bold">name&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000">my-file&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">plugin&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000">localfile&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">options&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">filename&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000">foo.txt&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">content&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#4e9a06">&amp;#34;hello, world&amp;#34;&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>å¯ä»¥çœ‹åˆ°ï¼š&lt;/p>
&lt;ul>
&lt;li>plugin: &lt;code>localfile&lt;/code> æ’ä»¶å&lt;/li>
&lt;li>options: æ’ä»¶é…ç½®
&lt;ul>
&lt;li>filename: æŒ‡å®šæ–‡ä»¶å&lt;/li>
&lt;li>content: æŒ‡å®šæ–‡ä»¶å†…å®¹&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;h2 id="æ¥å˜ä¸ªé­”æ³•å‡­ç©ºç”Ÿæˆæ’ä»¶éª¨æ¶">æ¥ï¼Œå˜ä¸ªé­”æ³•ï¼Œå‡­ç©ºç”Ÿæˆæ’ä»¶éª¨æ¶&lt;/h2>
&lt;p>é¦–å…ˆæˆ‘ä»¬ clone ä¸€ä»½ DevStream æºç ï¼Œç„¶åå°è¯•ç”Ÿæˆä¸€äº›è„šæ‰‹æ¶ä»£ç ï¼š&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-shell" data-lang="shell">&lt;span style="display:flex;">&lt;span>git clone git@github.com:devstream-io/devstreamtream.git
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#204a87">cd&lt;/span> stream
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#8f5902;font-style:italic"># builds dtm locally to make sure it&amp;#39;s using the same dependencies as your new plugin&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>make build-core
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>./dtm develop create-plugin --name&lt;span style="color:#ce5c00;font-weight:bold">=&lt;/span>localfile
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>è¯·ç•™æ„ &lt;code>./dtm develop create-plugin --name=localfile&lt;/code> è¿™ä¸ªå‘½ä»¤çš„è¾“å‡ºæ—¥å¿—ï¼ä½ ä¸€å®šä¼šçœ‹åˆ°æƒŠå–œï¼è´´å‡ºæ¥ï¼Ÿæˆ‘ä¸ã€‚æˆ‘è¦ä½ è‡ªå·±å»çœ‹ï¼&lt;/p>
&lt;p>ç°åœ¨è®©æˆ‘ä»¬æ•²ä¸€ä¸ª &lt;code>git status&lt;/code> å‘½ä»¤ï¼Œçœ‹åˆ°äº†å—ï¼Ÿdtm ä¸ºæˆ‘ä»¬åšäº†äº›å•¥ï¼Ÿ&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-shell" data-lang="shell">&lt;span style="display:flex;">&lt;span>$ git status
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>On branch main
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>Your branch is up to date with &lt;span style="color:#4e9a06">&amp;#39;origin/main&amp;#39;&lt;/span>.
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>Untracked files:
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#ce5c00;font-weight:bold">(&lt;/span>use &lt;span style="color:#4e9a06">&amp;#34;git add &amp;lt;file&amp;gt;...&amp;#34;&lt;/span> to include in what will be committed&lt;span style="color:#ce5c00;font-weight:bold">)&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> cmd/plugin/localfile/
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> docs/plugins/localfile_plugin.md
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> internal/pkg/plugin/localfile/
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h2 id="å›å¿†ä¸‹ç›®å½•ç»“æ„">å›å¿†ä¸‹ç›®å½•ç»“æ„&lt;/h2>
&lt;h3 id="cmdpluginlocalfilemaingo">cmd/plugin/localfile/main.go&lt;/h3>
&lt;p>æ’ä»¶çš„å…¥å£ï¼Œä¸»å‡½æ•°å…¥å£ï¼Œä½†æ˜¯åˆ«åŠ¨è¿™ä¸ªæ–‡ä»¶ï¼Œå› ä¸º &lt;code>dtm&lt;/code> çŸ¥é“ä½ çš„æ„å›¾ï¼Œå·²ç»ä¸ºä½ æ”¹å¥½äº†ã€‚&lt;/p>
&lt;h3 id="docspluginslocalfilemd">docs/plugins/localfile.md&lt;/h3>
&lt;p>è¿™æ˜¯è‡ªåŠ¨ç”Ÿæˆçš„æ–‡æ¡£ã€‚&lt;/p>
&lt;p>æ²¡é”™ï¼Œæˆ‘æ˜¯è¯´è¿‡ &lt;code>dtm&lt;/code> å¾ˆç¥å¥‡ï¼Œä½†æ˜¯å†ç¥å¥‡å®ƒä¹Ÿä¸çŸ¥é“ä½ çš„æ–°æ’ä»¶å…·ä½“æ˜¯å¹²å•¥çš„ã€‚æ‰€ä»¥è¿™ä¸ªæ–‡æ¡£çš„å…·ä½“å†…å®¹è¿˜æ˜¯å¾—ä½ è‡ªå·±æ¥å¡«å†™ã€‚&lt;/p>
&lt;p>å¯¹å¯¹å¯¹ï¼Œæ˜¯æ˜¯æ˜¯ï¼Œæˆ‘çŸ¥é“ä½ ä¸å–œæ¬¢å†™æ–‡æ¡£ï¼Œä½†æ˜¯æ²¡åŠæ³•ï¼Œ&lt;code>dtm&lt;/code> åªèƒ½å¸®ä½ åˆ°è¿™é‡Œã€‚è‡³å°‘ï¼Œä½ ä¸éœ€è¦æ‰‹åŠ¨åˆ›å»ºæ–‡ä»¶äº†å˜›ã€‚&lt;/p>
&lt;h3 id="internalpkgpluginlocalfile">internal/pkg/plugin/localfile&lt;/h3>
&lt;p>ä½ çš„æ’ä»¶ä¸»è¦ä»£ç é€»è¾‘éƒ½åœ¨è¿™é‡Œã€‚ä½ éœ€è¦ï¼š&lt;/p>
&lt;ul>
&lt;li>å®šä¹‰ä½ çš„è¾“å…¥å‚æ•°(options)ï¼›&lt;/li>
&lt;li>å®ç°å‚æ•°æ ¡éªŒï¼›&lt;/li>
&lt;li>å®ç°4ä¸ªä¸»è¦æ¥å£ã€‚&lt;/li>
&lt;/ul>
&lt;h2 id="æ ¸å¿ƒæ¦‚å¿µé…ç½®çŠ¶æ€èµ„æº">æ ¸å¿ƒæ¦‚å¿µï¼šé…ç½®ã€çŠ¶æ€ã€èµ„æº&lt;/h2>
&lt;p>è¿™é‡Œè¿˜æ˜¯éœ€è¦è´´ä¸ªè‹±æ–‡ï¼š&lt;/p>
&lt;p>&lt;strong>é…ç½®ã€çŠ¶æ€ã€èµ„æº == Config / State / Resource&lt;/strong>&lt;/p>
&lt;p>&lt;img src="https://www.devstream.io/img/config_state_resource.png" alt="">&lt;/p>
&lt;p>åœ¨å…·ä½“å†™ä»£ç é€»è¾‘å‰ï¼Œæˆ‘ä»¬è¿˜æ˜¯éœ€è¦å…ˆçŸ¥é“ DevStream æ˜¯æ€ä¹ˆå·¥ä½œçš„ï¼š&lt;/p>
&lt;ul>
&lt;li>é…ç½®(Config)ï¼šæ˜¯å·¥å…·(tools)åˆ—è¡¨ï¼Œæ¯ä¸€ä¸ªå·¥å…·æœ‰å…¶å¯¹åº”çš„ nameã€pluginã€options ç­‰é…ç½®é¡¹ã€‚&lt;/li>
&lt;li>çŠ¶æ€(State)ï¼šæ˜¯ä¸€ä¸ª mapï¼ŒåŒ…å«æ¯ä¸ªå·¥å…·çš„ nameã€plugin å’Œ options ç­‰ï¼Œä¸»è¦ç”¨æ¥å­˜å‚¨ &lt;code>dtm&lt;/code> ä¸Šä¸€æ¬¡æ“ä½œçš„ç»“æœã€‚&lt;/li>
&lt;li>èµ„æº(Resource)ï¼šæŒ‡çš„æ˜¯æ’ä»¶åˆ›å»ºå‡ºæ¥çš„å…·ä½“å·¥å…·å®ä¾‹ã€‚&lt;code>Read&lt;/code> æ¥å£è¿”å›çš„å°±æ˜¯ä¸€ä¸ªèµ„æºçš„æè¿°ä¿¡æ¯ï¼Œè¿™ä¸ªä¿¡æ¯ç†è®ºä¸Šåº”è¯¥å’ŒçŠ¶æ€é‡Œä¿å­˜çš„ä¿¡æ¯å®Œå…¨ä¸€è‡´ï¼ˆå¦‚æœè¿™ä¸ªèµ„æºæ²¡æœ‰è¢«é€šè¿‡å…¶ä»–é€”å¾„ä¿®æ”¹ï¼‰ã€‚&lt;/li>
&lt;/ul>
&lt;p>DevStream ä¼šæ ¹æ® &lt;em>Config&lt;/em>ã€&lt;em>State&lt;/em> å’Œ &lt;em>Resource&lt;/em> çš„çŠ¶æ€æ¥å†³å®šä¸‹ä¸€æ­¥åšä»€ä¹ˆã€‚æ¯”å¦‚ï¼š&lt;/p>
&lt;ul>
&lt;li>å¦‚æœä½ ä¸Šä¸€æ¬¡æˆåŠŸæ‰§è¡Œ &lt;code>dtm apply&lt;/code> ä¹‹åä»€ä¹ˆå˜åŒ–ä¹Ÿæ²¡æœ‰å‘ç”Ÿï¼Œç„¶åä½ å†æ¬¡è¿è¡Œ &lt;code>dtm apply&lt;/code>ï¼Œè¿™æ—¶å€™å•¥ä¹Ÿä¸ä¼šå‘ç”Ÿã€‚&lt;/li>
&lt;li>å¦‚æœä½ ä¸Šä¸€æ¬¡æˆåŠŸæ‰§è¡Œ &lt;code>dtm apply&lt;/code> ä¹‹åï¼Œæ”¹äº†ä¸€ä¸‹é…ç½®ï¼Œç„¶åä½ å†æ¬¡è¿è¡Œ &lt;code>dtm apply&lt;/code>ï¼Œé‚£ä¹ˆæ¥ç€ä¼šå‘ç”Ÿä»€ä¹ˆï¼Ÿå½“ç„¶æ˜¯ &lt;code>dtm&lt;/code> ä¼šå»æ›´æ–° Stateï¼Œæ“ä½œ Resourceï¼Œä»è€Œè®©ä½ çš„æ–°é…ç½®ç”Ÿæ•ˆã€‚&lt;/li>
&lt;li>å¦‚æœä½ æ‚„æ‚„åŠ¨äº†éƒ¨ç½²å¥½çš„å·¥å…·ï¼Œä¹Ÿå°±æ˜¯ Resource å‘ç”Ÿäº†å˜åŒ–ï¼Œç”šè‡³æ˜¯ä½ ç›´æ¥åˆ äº†è¿™ä¸ª Resourceã€‚è™½ç„¶ &lt;code>dtm&lt;/code> å¾ˆéš¾å—ã€‚ä½†æ˜¯ &lt;code>dtm&lt;/code> åšå¼ºã€‚&lt;code>dtm&lt;/code> ä¼šå°è¯•æ ¹æ® Config å’Œ State æ¥æ¢å¤ä½ çš„å·¥å…·ã€‚&lt;/li>
&lt;/ul>
&lt;h2 id="å·®ä¸å¤šå¼€å§‹è¯¦ç»†è®²æ¥å£äº†">å·®ä¸å¤šå¼€å§‹è¯¦ç»†è®²æ¥å£äº†&lt;/h2>
&lt;p>æ¯ä¸ª DevStream æ’ä»¶éƒ½å¿…é¡»å®ç°å¦‚ä¸‹å››ä¸ªæ¥å£ï¼š&lt;/p>
&lt;ul>
&lt;li>&lt;code>Create&lt;/code>&lt;/li>
&lt;li>&lt;code>Read&lt;/code>&lt;/li>
&lt;li>&lt;code>Update&lt;/code>&lt;/li>
&lt;li>&lt;code>Delete&lt;/code>&lt;/li>
&lt;/ul>
&lt;p>è¿”å›å€¼ï¼š&lt;/p>
&lt;ul>
&lt;li>&lt;code>Create&lt;/code> å’Œ &lt;code>Update &lt;/code> è¿”å›ä¸¤ä¸ªå€¼ï¼š&lt;code>(map[string]interface{}, error)&lt;/code>ã€‚ç¬¬ä¸€ä¸ªè¿”å›å€¼ï¼Œå½“ç„¶å°±æ˜¯çŠ¶æ€äº†ï¼Œæˆ‘ä»¬ä¼šå°†å…¶å­˜åˆ° State é‡Œã€‚ç¬¬äºŒä¸ªå°±ä¸éœ€è¦è§£é‡Šäº†å§ã€‚è¿˜æ˜¯è§£é‡Šä¸‹ï¼šå¦‚æœå‘ç”Ÿäº†é”™è¯¯ï¼Œé‚£ä¹ˆè¯·è¿”å›è¿™ä¸ªé”™è¯¯ã€‚&lt;/li>
&lt;li>&lt;code>Read&lt;/code> ä¹Ÿæœ‰ä¸¤ä¸ªè¿”å›å€¼ï¼Œç¬¬ä¸€ä¸ªæ˜¯èµ„æº(Resource)çš„æè¿°ï¼Œè¿™ä¸ªå€¼åº”è¯¥å’Œä¸Šé¢è¡¨ç¤º State çš„è¿”å›å€¼ç›¸åŒï¼ˆå¦‚æœèµ„æºæ²¡æœ‰å‘ç”Ÿå˜åŒ–ï¼‰ã€‚&lt;/li>
&lt;li>&lt;code>Delete&lt;/code> ä¸€åˆ‡é¡ºåˆ©å°±è¿”å› &lt;code>(true, nil)&lt;/code> å½“ç„¶åä¹‹å°±è¿”å› &lt;code>(false, error)&lt;/code>ã€‚&lt;/li>
&lt;/ul>
&lt;h2 id="å®ç°-options-å’Œå‚æ•°æ ¡éªŒ">å®ç° Options å’Œå‚æ•°æ ¡éªŒ&lt;/h2>
&lt;p>å¥½ï¼Œè®©æˆ‘ä»¬æ‰“å¼€ &lt;code>internal/pkg/plugin/localfile/options.go&lt;/code> æ–‡ä»¶ï¼Œå¼€å§‹å®ç° Options å¯¹è±¡ï¼š&lt;/p>
&lt;p>ç»“æœå¤§æ¦‚æ˜¯è¿™æ ·ï¼š&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-go" data-lang="go">&lt;span style="display:flex;">&lt;span>&lt;span style="color:#204a87;font-weight:bold">package&lt;/span> &lt;span style="color:#000">localfile&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#8f5902;font-style:italic">// Options is the struct for configurations of the localfile plugin.
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#8f5902;font-style:italic">&lt;/span>&lt;span style="color:#204a87;font-weight:bold">type&lt;/span> &lt;span style="color:#000">Options&lt;/span> &lt;span style="color:#204a87;font-weight:bold">struct&lt;/span> &lt;span style="color:#000;font-weight:bold">{&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#000">Filename&lt;/span> &lt;span style="color:#204a87;font-weight:bold">string&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#000">Content&lt;/span> &lt;span style="color:#204a87;font-weight:bold">string&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#000;font-weight:bold">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>æ¥ç€æ¥å®ç°è¿™ä¸ª Options çš„æ ¡éªŒé€»è¾‘ï¼Œæ‰“å¼€ &lt;code>internal/pkg/plugin/localfile/validate.go&lt;/code> æ–‡ä»¶ï¼Œå¼€å§‹å†™ä»£ç ã€‚&lt;/p>
&lt;p>ç»“æœå¤§æ¦‚æ˜¯è¿™æ ·ï¼š&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-go" data-lang="go">&lt;span style="display:flex;">&lt;span>&lt;span style="color:#204a87;font-weight:bold">package&lt;/span> &lt;span style="color:#000">localfile&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#204a87;font-weight:bold">import&lt;/span> &lt;span style="color:#4e9a06">&amp;#34;fmt&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#8f5902;font-style:italic">// validate validates the options provided by the core.
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#8f5902;font-style:italic">&lt;/span>&lt;span style="color:#204a87;font-weight:bold">func&lt;/span> &lt;span style="color:#000">validate&lt;/span>&lt;span style="color:#000;font-weight:bold">(&lt;/span>&lt;span style="color:#000">options&lt;/span> &lt;span style="color:#ce5c00;font-weight:bold">*&lt;/span>&lt;span style="color:#000">Options&lt;/span>&lt;span style="color:#000;font-weight:bold">)&lt;/span> &lt;span style="color:#000;font-weight:bold">[]&lt;/span>&lt;span style="color:#204a87;font-weight:bold">error&lt;/span> &lt;span style="color:#000;font-weight:bold">{&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#000">res&lt;/span> &lt;span style="color:#ce5c00;font-weight:bold">:=&lt;/span> &lt;span style="color:#204a87">make&lt;/span>&lt;span style="color:#000;font-weight:bold">([]&lt;/span>&lt;span style="color:#204a87;font-weight:bold">error&lt;/span>&lt;span style="color:#000;font-weight:bold">,&lt;/span> &lt;span style="color:#0000cf;font-weight:bold">0&lt;/span>&lt;span style="color:#000;font-weight:bold">)&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#204a87;font-weight:bold">if&lt;/span> &lt;span style="color:#000">options&lt;/span>&lt;span style="color:#000;font-weight:bold">.&lt;/span>&lt;span style="color:#000">Filename&lt;/span> &lt;span style="color:#ce5c00;font-weight:bold">==&lt;/span> &lt;span style="color:#4e9a06">&amp;#34;&amp;#34;&lt;/span> &lt;span style="color:#000;font-weight:bold">{&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#000">res&lt;/span> &lt;span style="color:#000;font-weight:bold">=&lt;/span> &lt;span style="color:#204a87">append&lt;/span>&lt;span style="color:#000;font-weight:bold">(&lt;/span>&lt;span style="color:#000">res&lt;/span>&lt;span style="color:#000;font-weight:bold">,&lt;/span> &lt;span style="color:#000">fmt&lt;/span>&lt;span style="color:#000;font-weight:bold">.&lt;/span>&lt;span style="color:#000">Errorf&lt;/span>&lt;span style="color:#000;font-weight:bold">(&lt;/span>&lt;span style="color:#4e9a06">&amp;#34;filename does not exist&amp;#34;&lt;/span>&lt;span style="color:#000;font-weight:bold">))&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#000;font-weight:bold">}&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#204a87;font-weight:bold">return&lt;/span> &lt;span style="color:#000">res&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#000;font-weight:bold">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h2 id="å®ç°-curd-æ¥å£">å®ç° CURD æ¥å£&lt;/h2>
&lt;h3 id="å¢åˆ æ”¹æŸ¥ä¹‹---create">å¢åˆ æ”¹æŸ¥ä¹‹ - Create&lt;/h3>
&lt;p>æˆ‘ä»¬è¦æ ¹æ®è¾“å…¥çš„ options æ¥å®ç° create é€»è¾‘ï¼Œokï¼Œæ‰“å¼€ &lt;code>internal/pkg/plugin/localfile/create.go&lt;/code> æ–‡ä»¶ï¼Œå¼€å§‹æŒ¥æ¯«æ³¼å¢¨å§ï¼&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-go" data-lang="go">&lt;span style="display:flex;">&lt;span>&lt;span style="color:#204a87;font-weight:bold">package&lt;/span> &lt;span style="color:#000">localfile&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#204a87;font-weight:bold">import&lt;/span> &lt;span style="color:#000;font-weight:bold">(&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#4e9a06">&amp;#34;fmt&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#4e9a06">&amp;#34;github.com/mitchellh/mapstructure&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#4e9a06">&amp;#34;github.com/devstream-io/devstreamutil/log&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#000;font-weight:bold">)&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#204a87;font-weight:bold">func&lt;/span> &lt;span style="color:#000">Create&lt;/span>&lt;span style="color:#000;font-weight:bold">(&lt;/span>&lt;span style="color:#000">options&lt;/span> &lt;span style="color:#204a87;font-weight:bold">map&lt;/span>&lt;span style="color:#000;font-weight:bold">[&lt;/span>&lt;span style="color:#204a87;font-weight:bold">string&lt;/span>&lt;span style="color:#000;font-weight:bold">]&lt;/span>&lt;span style="color:#204a87;font-weight:bold">interface&lt;/span>&lt;span style="color:#000;font-weight:bold">{})&lt;/span> &lt;span style="color:#000;font-weight:bold">(&lt;/span>&lt;span style="color:#204a87;font-weight:bold">map&lt;/span>&lt;span style="color:#000;font-weight:bold">[&lt;/span>&lt;span style="color:#204a87;font-weight:bold">string&lt;/span>&lt;span style="color:#000;font-weight:bold">]&lt;/span>&lt;span style="color:#204a87;font-weight:bold">interface&lt;/span>&lt;span style="color:#000;font-weight:bold">{},&lt;/span> &lt;span style="color:#204a87;font-weight:bold">error&lt;/span>&lt;span style="color:#000;font-weight:bold">)&lt;/span> &lt;span style="color:#000;font-weight:bold">{&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#204a87;font-weight:bold">var&lt;/span> &lt;span style="color:#000">opts&lt;/span> &lt;span style="color:#000">Options&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#204a87;font-weight:bold">if&lt;/span> &lt;span style="color:#000">err&lt;/span> &lt;span style="color:#ce5c00;font-weight:bold">:=&lt;/span> &lt;span style="color:#000">mapstructure&lt;/span>&lt;span style="color:#000;font-weight:bold">.&lt;/span>&lt;span style="color:#000">Decode&lt;/span>&lt;span style="color:#000;font-weight:bold">(&lt;/span>&lt;span style="color:#000">options&lt;/span>&lt;span style="color:#000;font-weight:bold">,&lt;/span> &lt;span style="color:#ce5c00;font-weight:bold">&amp;amp;&lt;/span>&lt;span style="color:#000">opts&lt;/span>&lt;span style="color:#000;font-weight:bold">);&lt;/span> &lt;span style="color:#000">err&lt;/span> &lt;span style="color:#ce5c00;font-weight:bold">!=&lt;/span> &lt;span style="color:#204a87;font-weight:bold">nil&lt;/span> &lt;span style="color:#000;font-weight:bold">{&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#204a87;font-weight:bold">return&lt;/span> &lt;span style="color:#204a87;font-weight:bold">nil&lt;/span>&lt;span style="color:#000;font-weight:bold">,&lt;/span> &lt;span style="color:#000">err&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#000;font-weight:bold">}&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#204a87;font-weight:bold">if&lt;/span> &lt;span style="color:#000">errs&lt;/span> &lt;span style="color:#ce5c00;font-weight:bold">:=&lt;/span> &lt;span style="color:#000">validate&lt;/span>&lt;span style="color:#000;font-weight:bold">(&lt;/span>&lt;span style="color:#ce5c00;font-weight:bold">&amp;amp;&lt;/span>&lt;span style="color:#000">opts&lt;/span>&lt;span style="color:#000;font-weight:bold">);&lt;/span> &lt;span style="color:#204a87">len&lt;/span>&lt;span style="color:#000;font-weight:bold">(&lt;/span>&lt;span style="color:#000">errs&lt;/span>&lt;span style="color:#000;font-weight:bold">)&lt;/span> &lt;span style="color:#ce5c00;font-weight:bold">!=&lt;/span> &lt;span style="color:#0000cf;font-weight:bold">0&lt;/span> &lt;span style="color:#000;font-weight:bold">{&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#204a87;font-weight:bold">for&lt;/span> &lt;span style="color:#000">_&lt;/span>&lt;span style="color:#000;font-weight:bold">,&lt;/span> &lt;span style="color:#000">e&lt;/span> &lt;span style="color:#ce5c00;font-weight:bold">:=&lt;/span> &lt;span style="color:#204a87;font-weight:bold">range&lt;/span> &lt;span style="color:#000">errs&lt;/span> &lt;span style="color:#000;font-weight:bold">{&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#000">log&lt;/span>&lt;span style="color:#000;font-weight:bold">.&lt;/span>&lt;span style="color:#000">Errorf&lt;/span>&lt;span style="color:#000;font-weight:bold">(&lt;/span>&lt;span style="color:#4e9a06">&amp;#34;Options error: %s.&amp;#34;&lt;/span>&lt;span style="color:#000;font-weight:bold">,&lt;/span> &lt;span style="color:#000">e&lt;/span>&lt;span style="color:#000;font-weight:bold">)&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#000;font-weight:bold">}&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#204a87;font-weight:bold">return&lt;/span> &lt;span style="color:#204a87;font-weight:bold">nil&lt;/span>&lt;span style="color:#000;font-weight:bold">,&lt;/span> &lt;span style="color:#000">fmt&lt;/span>&lt;span style="color:#000;font-weight:bold">.&lt;/span>&lt;span style="color:#000">Errorf&lt;/span>&lt;span style="color:#000;font-weight:bold">(&lt;/span>&lt;span style="color:#4e9a06">&amp;#34;opts are illegal&amp;#34;&lt;/span>&lt;span style="color:#000;font-weight:bold">)&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#000;font-weight:bold">}&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#000">err&lt;/span> &lt;span style="color:#ce5c00;font-weight:bold">:=&lt;/span> &lt;span style="color:#000">writefile&lt;/span>&lt;span style="color:#000;font-weight:bold">(&lt;/span>&lt;span style="color:#000">opts&lt;/span>&lt;span style="color:#000;font-weight:bold">.&lt;/span>&lt;span style="color:#000">Filename&lt;/span>&lt;span style="color:#000;font-weight:bold">,&lt;/span> &lt;span style="color:#000">opts&lt;/span>&lt;span style="color:#000;font-weight:bold">.&lt;/span>&lt;span style="color:#000">Content&lt;/span>&lt;span style="color:#000;font-weight:bold">)&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#204a87;font-weight:bold">if&lt;/span> &lt;span style="color:#000">err&lt;/span> &lt;span style="color:#ce5c00;font-weight:bold">!=&lt;/span> &lt;span style="color:#204a87;font-weight:bold">nil&lt;/span> &lt;span style="color:#000;font-weight:bold">{&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#204a87;font-weight:bold">return&lt;/span> &lt;span style="color:#204a87;font-weight:bold">nil&lt;/span>&lt;span style="color:#000;font-weight:bold">,&lt;/span> &lt;span style="color:#000">err&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#000;font-weight:bold">}&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#000">status&lt;/span> &lt;span style="color:#ce5c00;font-weight:bold">:=&lt;/span> &lt;span style="color:#204a87;font-weight:bold">map&lt;/span>&lt;span style="color:#000;font-weight:bold">[&lt;/span>&lt;span style="color:#204a87;font-weight:bold">string&lt;/span>&lt;span style="color:#000;font-weight:bold">]&lt;/span>&lt;span style="color:#204a87;font-weight:bold">interface&lt;/span>&lt;span style="color:#000;font-weight:bold">{}{&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#4e9a06">&amp;#34;filename&amp;#34;&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span> &lt;span style="color:#000">opts&lt;/span>&lt;span style="color:#000;font-weight:bold">.&lt;/span>&lt;span style="color:#000">Filename&lt;/span>&lt;span style="color:#000;font-weight:bold">,&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#4e9a06">&amp;#34;content&amp;#34;&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span> &lt;span style="color:#000">opts&lt;/span>&lt;span style="color:#000;font-weight:bold">.&lt;/span>&lt;span style="color:#000">Content&lt;/span>&lt;span style="color:#000;font-weight:bold">,&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#000;font-weight:bold">}&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#204a87;font-weight:bold">return&lt;/span> &lt;span style="color:#000">status&lt;/span>&lt;span style="color:#000;font-weight:bold">,&lt;/span> &lt;span style="color:#204a87;font-weight:bold">nil&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#000;font-weight:bold">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>æ˜¯ä¸æ˜¯å‘ç°è¿™é‡Œå…¶å®ç›¸æ¯” &lt;code>dtm develop&lt;/code> åˆ›å»ºçš„è„šæ‰‹æ¶ä»£ç ï¼Œå¤šå‡ºæ¥æ²¡å‡ è¡Œã€‚æ²¡é”™ï¼Œå°±æ˜¯é‚£ä¹ˆç®€å•ã€‚å…¶ä»–æ¥å£ä¹Ÿæ˜¯ã€‚&lt;/p>
&lt;p>æœ‰ä¸ªå°ç»†èŠ‚ï¼šè¿™é‡Œçš„ &lt;code>writefile&lt;/code> å‡½æ•°è¢«æ”¾åˆ°äº† &lt;code>internal/pkg/plugin/localfile/localfile.go&lt;/code>ï¼Œè¿™æ ·çœ‹èµ·æ¥æ›´æ¸…æ™°ä¸€äº›ã€‚&lt;/p>
&lt;p>æ‰€ä»¥ &lt;code>localfile.go&lt;/code> æ–‡ä»¶çœ‹èµ·æ¥å°±æ˜¯è¿™æ ·çš„ï¼š&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-go" data-lang="go">&lt;span style="display:flex;">&lt;span>&lt;span style="color:#204a87;font-weight:bold">package&lt;/span> &lt;span style="color:#000">localfile&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#204a87;font-weight:bold">import&lt;/span> &lt;span style="color:#4e9a06">&amp;#34;os&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#204a87;font-weight:bold">func&lt;/span> &lt;span style="color:#000">writefile&lt;/span>&lt;span style="color:#000;font-weight:bold">(&lt;/span>&lt;span style="color:#000">filename&lt;/span>&lt;span style="color:#000;font-weight:bold">,&lt;/span> &lt;span style="color:#000">content&lt;/span> &lt;span style="color:#204a87;font-weight:bold">string&lt;/span>&lt;span style="color:#000;font-weight:bold">)&lt;/span> &lt;span style="color:#204a87;font-weight:bold">error&lt;/span> &lt;span style="color:#000;font-weight:bold">{&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#000">f&lt;/span>&lt;span style="color:#000;font-weight:bold">,&lt;/span> &lt;span style="color:#000">err&lt;/span> &lt;span style="color:#ce5c00;font-weight:bold">:=&lt;/span> &lt;span style="color:#000">os&lt;/span>&lt;span style="color:#000;font-weight:bold">.&lt;/span>&lt;span style="color:#000">Create&lt;/span>&lt;span style="color:#000;font-weight:bold">(&lt;/span>&lt;span style="color:#000">filename&lt;/span>&lt;span style="color:#000;font-weight:bold">)&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#204a87;font-weight:bold">if&lt;/span> &lt;span style="color:#000">err&lt;/span> &lt;span style="color:#ce5c00;font-weight:bold">!=&lt;/span> &lt;span style="color:#204a87;font-weight:bold">nil&lt;/span> &lt;span style="color:#000;font-weight:bold">{&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#204a87;font-weight:bold">return&lt;/span> &lt;span style="color:#000">err&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#000;font-weight:bold">}&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#204a87;font-weight:bold">defer&lt;/span> &lt;span style="color:#000">f&lt;/span>&lt;span style="color:#000;font-weight:bold">.&lt;/span>&lt;span style="color:#000">Close&lt;/span>&lt;span style="color:#000;font-weight:bold">()&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#000">_&lt;/span>&lt;span style="color:#000;font-weight:bold">,&lt;/span> &lt;span style="color:#000">err&lt;/span> &lt;span style="color:#000;font-weight:bold">=&lt;/span> &lt;span style="color:#000">f&lt;/span>&lt;span style="color:#000;font-weight:bold">.&lt;/span>&lt;span style="color:#000">WriteString&lt;/span>&lt;span style="color:#000;font-weight:bold">(&lt;/span>&lt;span style="color:#000">content&lt;/span>&lt;span style="color:#000;font-weight:bold">)&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#204a87;font-weight:bold">if&lt;/span> &lt;span style="color:#000">err&lt;/span> &lt;span style="color:#ce5c00;font-weight:bold">!=&lt;/span> &lt;span style="color:#204a87;font-weight:bold">nil&lt;/span> &lt;span style="color:#000;font-weight:bold">{&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#204a87;font-weight:bold">return&lt;/span> &lt;span style="color:#000">err&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#000;font-weight:bold">}&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#204a87;font-weight:bold">return&lt;/span> &lt;span style="color:#204a87;font-weight:bold">nil&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#000;font-weight:bold">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h3 id="å¢åˆ æ”¹æŸ¥ä¹‹---read">å¢åˆ æ”¹æŸ¥ä¹‹ - Read&lt;/h3>
&lt;p>è®©æˆ‘ä»¬ç»§ç»­æ¥å®ç° &lt;code>Read&lt;/code> æ¥å£å§ï¼&lt;/p>
&lt;p>è¿™é‡Œçš„é€»è¾‘å¾ˆç®€å•ï¼Œå°±æ˜¯çœ‹ä¸‹æ–‡ä»¶åœ¨ä¸åœ¨ï¼Œçœ‹ä¸‹å†…å®¹å¯¹ä¸å¯¹ï¼š&lt;/p>
&lt;ul>
&lt;li>&lt;code>internal/pkg/plugin/localfile/read.go&lt;/code>:&lt;/li>
&lt;/ul>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-go" data-lang="go">&lt;span style="display:flex;">&lt;span>&lt;span style="color:#204a87;font-weight:bold">package&lt;/span> &lt;span style="color:#000">localfile&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#204a87;font-weight:bold">import&lt;/span> &lt;span style="color:#000;font-weight:bold">(&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#4e9a06">&amp;#34;fmt&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#4e9a06">&amp;#34;os&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#4e9a06">&amp;#34;strings&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#4e9a06">&amp;#34;github.com/mitchellh/mapstructure&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#4e9a06">&amp;#34;github.com/devstream-io/devstreamutil/log&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#000;font-weight:bold">)&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#204a87;font-weight:bold">func&lt;/span> &lt;span style="color:#000">Read&lt;/span>&lt;span style="color:#000;font-weight:bold">(&lt;/span>&lt;span style="color:#000">options&lt;/span> &lt;span style="color:#204a87;font-weight:bold">map&lt;/span>&lt;span style="color:#000;font-weight:bold">[&lt;/span>&lt;span style="color:#204a87;font-weight:bold">string&lt;/span>&lt;span style="color:#000;font-weight:bold">]&lt;/span>&lt;span style="color:#204a87;font-weight:bold">interface&lt;/span>&lt;span style="color:#000;font-weight:bold">{})&lt;/span> &lt;span style="color:#000;font-weight:bold">(&lt;/span>&lt;span style="color:#204a87;font-weight:bold">map&lt;/span>&lt;span style="color:#000;font-weight:bold">[&lt;/span>&lt;span style="color:#204a87;font-weight:bold">string&lt;/span>&lt;span style="color:#000;font-weight:bold">]&lt;/span>&lt;span style="color:#204a87;font-weight:bold">interface&lt;/span>&lt;span style="color:#000;font-weight:bold">{},&lt;/span> &lt;span style="color:#204a87;font-weight:bold">error&lt;/span>&lt;span style="color:#000;font-weight:bold">)&lt;/span> &lt;span style="color:#000;font-weight:bold">{&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#204a87;font-weight:bold">var&lt;/span> &lt;span style="color:#000">opts&lt;/span> &lt;span style="color:#000">Options&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#204a87;font-weight:bold">if&lt;/span> &lt;span style="color:#000">err&lt;/span> &lt;span style="color:#ce5c00;font-weight:bold">:=&lt;/span> &lt;span style="color:#000">mapstructure&lt;/span>&lt;span style="color:#000;font-weight:bold">.&lt;/span>&lt;span style="color:#000">Decode&lt;/span>&lt;span style="color:#000;font-weight:bold">(&lt;/span>&lt;span style="color:#000">options&lt;/span>&lt;span style="color:#000;font-weight:bold">,&lt;/span> &lt;span style="color:#ce5c00;font-weight:bold">&amp;amp;&lt;/span>&lt;span style="color:#000">opts&lt;/span>&lt;span style="color:#000;font-weight:bold">);&lt;/span> &lt;span style="color:#000">err&lt;/span> &lt;span style="color:#ce5c00;font-weight:bold">!=&lt;/span> &lt;span style="color:#204a87;font-weight:bold">nil&lt;/span> &lt;span style="color:#000;font-weight:bold">{&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#204a87;font-weight:bold">return&lt;/span> &lt;span style="color:#204a87;font-weight:bold">nil&lt;/span>&lt;span style="color:#000;font-weight:bold">,&lt;/span> &lt;span style="color:#000">err&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#000;font-weight:bold">}&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#204a87;font-weight:bold">if&lt;/span> &lt;span style="color:#000">errs&lt;/span> &lt;span style="color:#ce5c00;font-weight:bold">:=&lt;/span> &lt;span style="color:#000">validate&lt;/span>&lt;span style="color:#000;font-weight:bold">(&lt;/span>&lt;span style="color:#ce5c00;font-weight:bold">&amp;amp;&lt;/span>&lt;span style="color:#000">opts&lt;/span>&lt;span style="color:#000;font-weight:bold">);&lt;/span> &lt;span style="color:#204a87">len&lt;/span>&lt;span style="color:#000;font-weight:bold">(&lt;/span>&lt;span style="color:#000">errs&lt;/span>&lt;span style="color:#000;font-weight:bold">)&lt;/span> &lt;span style="color:#ce5c00;font-weight:bold">!=&lt;/span> &lt;span style="color:#0000cf;font-weight:bold">0&lt;/span> &lt;span style="color:#000;font-weight:bold">{&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#204a87;font-weight:bold">for&lt;/span> &lt;span style="color:#000">_&lt;/span>&lt;span style="color:#000;font-weight:bold">,&lt;/span> &lt;span style="color:#000">e&lt;/span> &lt;span style="color:#ce5c00;font-weight:bold">:=&lt;/span> &lt;span style="color:#204a87;font-weight:bold">range&lt;/span> &lt;span style="color:#000">errs&lt;/span> &lt;span style="color:#000;font-weight:bold">{&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#000">log&lt;/span>&lt;span style="color:#000;font-weight:bold">.&lt;/span>&lt;span style="color:#000">Errorf&lt;/span>&lt;span style="color:#000;font-weight:bold">(&lt;/span>&lt;span style="color:#4e9a06">&amp;#34;Options error: %s.&amp;#34;&lt;/span>&lt;span style="color:#000;font-weight:bold">,&lt;/span> &lt;span style="color:#000">e&lt;/span>&lt;span style="color:#000;font-weight:bold">)&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#000;font-weight:bold">}&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#204a87;font-weight:bold">return&lt;/span> &lt;span style="color:#204a87;font-weight:bold">nil&lt;/span>&lt;span style="color:#000;font-weight:bold">,&lt;/span> &lt;span style="color:#000">fmt&lt;/span>&lt;span style="color:#000;font-weight:bold">.&lt;/span>&lt;span style="color:#000">Errorf&lt;/span>&lt;span style="color:#000;font-weight:bold">(&lt;/span>&lt;span style="color:#4e9a06">&amp;#34;opts are illegal&amp;#34;&lt;/span>&lt;span style="color:#000;font-weight:bold">)&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#000;font-weight:bold">}&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#000">content&lt;/span>&lt;span style="color:#000;font-weight:bold">,&lt;/span> &lt;span style="color:#000">err&lt;/span> &lt;span style="color:#ce5c00;font-weight:bold">:=&lt;/span> &lt;span style="color:#000">os&lt;/span>&lt;span style="color:#000;font-weight:bold">.&lt;/span>&lt;span style="color:#000">ReadFile&lt;/span>&lt;span style="color:#000;font-weight:bold">(&lt;/span>&lt;span style="color:#000">opts&lt;/span>&lt;span style="color:#000;font-weight:bold">.&lt;/span>&lt;span style="color:#000">Filename&lt;/span>&lt;span style="color:#000;font-weight:bold">)&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#204a87;font-weight:bold">if&lt;/span> &lt;span style="color:#000">err&lt;/span> &lt;span style="color:#ce5c00;font-weight:bold">!=&lt;/span> &lt;span style="color:#204a87;font-weight:bold">nil&lt;/span> &lt;span style="color:#000;font-weight:bold">{&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#204a87;font-weight:bold">if&lt;/span> &lt;span style="color:#000">strings&lt;/span>&lt;span style="color:#000;font-weight:bold">.&lt;/span>&lt;span style="color:#000">Contains&lt;/span>&lt;span style="color:#000;font-weight:bold">(&lt;/span>&lt;span style="color:#000">err&lt;/span>&lt;span style="color:#000;font-weight:bold">.&lt;/span>&lt;span style="color:#000">Error&lt;/span>&lt;span style="color:#000;font-weight:bold">(),&lt;/span> &lt;span style="color:#4e9a06">&amp;#34;no such file or directory&amp;#34;&lt;/span>&lt;span style="color:#000;font-weight:bold">)&lt;/span> &lt;span style="color:#000;font-weight:bold">{&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#204a87;font-weight:bold">return&lt;/span> &lt;span style="color:#204a87;font-weight:bold">nil&lt;/span>&lt;span style="color:#000;font-weight:bold">,&lt;/span> &lt;span style="color:#204a87;font-weight:bold">nil&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#000;font-weight:bold">}&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#204a87;font-weight:bold">return&lt;/span> &lt;span style="color:#204a87;font-weight:bold">nil&lt;/span>&lt;span style="color:#000;font-weight:bold">,&lt;/span> &lt;span style="color:#000">err&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#000;font-weight:bold">}&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#000">status&lt;/span> &lt;span style="color:#ce5c00;font-weight:bold">:=&lt;/span> &lt;span style="color:#204a87;font-weight:bold">map&lt;/span>&lt;span style="color:#000;font-weight:bold">[&lt;/span>&lt;span style="color:#204a87;font-weight:bold">string&lt;/span>&lt;span style="color:#000;font-weight:bold">]&lt;/span>&lt;span style="color:#204a87;font-weight:bold">interface&lt;/span>&lt;span style="color:#000;font-weight:bold">{}{&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#4e9a06">&amp;#34;filename&amp;#34;&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span> &lt;span style="color:#000">opts&lt;/span>&lt;span style="color:#000;font-weight:bold">.&lt;/span>&lt;span style="color:#000">Filename&lt;/span>&lt;span style="color:#000;font-weight:bold">,&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#4e9a06">&amp;#34;content&amp;#34;&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span> &lt;span style="color:#204a87">string&lt;/span>&lt;span style="color:#000;font-weight:bold">(&lt;/span>&lt;span style="color:#000">content&lt;/span>&lt;span style="color:#000;font-weight:bold">),&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#000;font-weight:bold">}&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#204a87;font-weight:bold">return&lt;/span> &lt;span style="color:#000">status&lt;/span>&lt;span style="color:#000;font-weight:bold">,&lt;/span> &lt;span style="color:#204a87;font-weight:bold">nil&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#000;font-weight:bold">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>å…³äºè¿”å›å€¼ï¼š&lt;/p>
&lt;ul>
&lt;li>å¦‚æœæ–‡ä»¶ä¸å­˜åœ¨ï¼Œè¿”å› nilï¼Œæ²¡æœ‰ errorï¼Œè¿™æ„å‘³ç€æ–‡ä»¶è¿˜æ²¡æœ‰è¢«åˆ›å»ºæˆ–è€…è¢«æŸäººåˆ æ‰äº†ã€‚&lt;/li>
&lt;li>å¦‚æœæ–‡ä»¶å­˜åœ¨ï¼Œè¿”å›æ–‡ä»¶â€œçŠ¶æ€ï¼Œæ²¡æœ‰ errorã€‚&lt;/li>
&lt;li>å…¶ä»–æƒ…å†µï¼Œè¿”å› nil è¿˜æœ‰å¯¹åº”çš„ errorã€‚&lt;/li>
&lt;/ul>
&lt;h3 id="å¢åˆ æ”¹æŸ¥ä¹‹---update">å¢åˆ æ”¹æŸ¥ä¹‹ - Update&lt;/h3>
&lt;p>&lt;code>Update&lt;/code> ä¼šåœ¨ &lt;code>Read&lt;/code> è¿”å›çš„ç»“æœå’Œ State ä¸­çš„è®°å½•ä¸ä¸€è‡´æ—¶è§¦å‘ã€‚&lt;/p>
&lt;p>è‡³äºå®ç°å˜›ï¼Œè¿™ä¸ªåœºæ™¯ä¸‹ Update çš„é€»è¾‘å…¶å®å’Œ Create é‡å¤ï¼Œæ‰€ä»¥æˆ‘ä»¬å¯ä»¥å·ä¸ªæ‡’ï¼Œç›´æ¥é‡ç”¨è¿™å—ä»£ç ï¼š&lt;/p>
&lt;ul>
&lt;li>&lt;code>internal/pkg/plugin/localfile/update.go&lt;/code>:&lt;/li>
&lt;/ul>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-go" data-lang="go">&lt;span style="display:flex;">&lt;span>&lt;span style="color:#204a87;font-weight:bold">package&lt;/span> &lt;span style="color:#000">localfile&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#204a87;font-weight:bold">func&lt;/span> &lt;span style="color:#000">Update&lt;/span>&lt;span style="color:#000;font-weight:bold">(&lt;/span>&lt;span style="color:#000">options&lt;/span> &lt;span style="color:#204a87;font-weight:bold">map&lt;/span>&lt;span style="color:#000;font-weight:bold">[&lt;/span>&lt;span style="color:#204a87;font-weight:bold">string&lt;/span>&lt;span style="color:#000;font-weight:bold">]&lt;/span>&lt;span style="color:#204a87;font-weight:bold">interface&lt;/span>&lt;span style="color:#000;font-weight:bold">{})&lt;/span> &lt;span style="color:#000;font-weight:bold">(&lt;/span>&lt;span style="color:#204a87;font-weight:bold">map&lt;/span>&lt;span style="color:#000;font-weight:bold">[&lt;/span>&lt;span style="color:#204a87;font-weight:bold">string&lt;/span>&lt;span style="color:#000;font-weight:bold">]&lt;/span>&lt;span style="color:#204a87;font-weight:bold">interface&lt;/span>&lt;span style="color:#000;font-weight:bold">{},&lt;/span> &lt;span style="color:#204a87;font-weight:bold">error&lt;/span>&lt;span style="color:#000;font-weight:bold">)&lt;/span> &lt;span style="color:#000;font-weight:bold">{&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#204a87;font-weight:bold">return&lt;/span> &lt;span style="color:#000">Create&lt;/span>&lt;span style="color:#000;font-weight:bold">(&lt;/span>&lt;span style="color:#000">options&lt;/span>&lt;span style="color:#000;font-weight:bold">)&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#000;font-weight:bold">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h3 id="å¢åˆ æ”¹æŸ¥ä¹‹---delete">å¢åˆ æ”¹æŸ¥ä¹‹ - Delete&lt;/h3>
&lt;p>ç»ˆäºåˆ°æœ€åä¸€ä¸ªæ¥å£äº†ï¼Œæˆ‘ä»¬æ¥å®ç° &lt;code>Delete&lt;/code> å§ï¼&lt;/p>
&lt;ul>
&lt;li>&lt;code>internal/pkg/plugin/localfile/delete.go&lt;/code>:&lt;/li>
&lt;/ul>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-go" data-lang="go">&lt;span style="display:flex;">&lt;span>&lt;span style="color:#204a87;font-weight:bold">package&lt;/span> &lt;span style="color:#000">localfile&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#204a87;font-weight:bold">import&lt;/span> &lt;span style="color:#000;font-weight:bold">(&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#4e9a06">&amp;#34;fmt&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#4e9a06">&amp;#34;os&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#4e9a06">&amp;#34;github.com/mitchellh/mapstructure&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#4e9a06">&amp;#34;github.com/devstream-io/devstreamutil/log&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#000;font-weight:bold">)&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#204a87;font-weight:bold">func&lt;/span> &lt;span style="color:#000">Delete&lt;/span>&lt;span style="color:#000;font-weight:bold">(&lt;/span>&lt;span style="color:#000">options&lt;/span> &lt;span style="color:#204a87;font-weight:bold">map&lt;/span>&lt;span style="color:#000;font-weight:bold">[&lt;/span>&lt;span style="color:#204a87;font-weight:bold">string&lt;/span>&lt;span style="color:#000;font-weight:bold">]&lt;/span>&lt;span style="color:#204a87;font-weight:bold">interface&lt;/span>&lt;span style="color:#000;font-weight:bold">{})&lt;/span> &lt;span style="color:#000;font-weight:bold">(&lt;/span>&lt;span style="color:#204a87;font-weight:bold">bool&lt;/span>&lt;span style="color:#000;font-weight:bold">,&lt;/span> &lt;span style="color:#204a87;font-weight:bold">error&lt;/span>&lt;span style="color:#000;font-weight:bold">)&lt;/span> &lt;span style="color:#000;font-weight:bold">{&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#204a87;font-weight:bold">var&lt;/span> &lt;span style="color:#000">opts&lt;/span> &lt;span style="color:#000">Options&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#204a87;font-weight:bold">if&lt;/span> &lt;span style="color:#000">err&lt;/span> &lt;span style="color:#ce5c00;font-weight:bold">:=&lt;/span> &lt;span style="color:#000">mapstructure&lt;/span>&lt;span style="color:#000;font-weight:bold">.&lt;/span>&lt;span style="color:#000">Decode&lt;/span>&lt;span style="color:#000;font-weight:bold">(&lt;/span>&lt;span style="color:#000">options&lt;/span>&lt;span style="color:#000;font-weight:bold">,&lt;/span> &lt;span style="color:#ce5c00;font-weight:bold">&amp;amp;&lt;/span>&lt;span style="color:#000">opts&lt;/span>&lt;span style="color:#000;font-weight:bold">);&lt;/span> &lt;span style="color:#000">err&lt;/span> &lt;span style="color:#ce5c00;font-weight:bold">!=&lt;/span> &lt;span style="color:#204a87;font-weight:bold">nil&lt;/span> &lt;span style="color:#000;font-weight:bold">{&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#204a87;font-weight:bold">return&lt;/span> &lt;span style="color:#204a87;font-weight:bold">false&lt;/span>&lt;span style="color:#000;font-weight:bold">,&lt;/span> &lt;span style="color:#000">err&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#000;font-weight:bold">}&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#204a87;font-weight:bold">if&lt;/span> &lt;span style="color:#000">errs&lt;/span> &lt;span style="color:#ce5c00;font-weight:bold">:=&lt;/span> &lt;span style="color:#000">validate&lt;/span>&lt;span style="color:#000;font-weight:bold">(&lt;/span>&lt;span style="color:#ce5c00;font-weight:bold">&amp;amp;&lt;/span>&lt;span style="color:#000">opts&lt;/span>&lt;span style="color:#000;font-weight:bold">);&lt;/span> &lt;span style="color:#204a87">len&lt;/span>&lt;span style="color:#000;font-weight:bold">(&lt;/span>&lt;span style="color:#000">errs&lt;/span>&lt;span style="color:#000;font-weight:bold">)&lt;/span> &lt;span style="color:#ce5c00;font-weight:bold">!=&lt;/span> &lt;span style="color:#0000cf;font-weight:bold">0&lt;/span> &lt;span style="color:#000;font-weight:bold">{&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#204a87;font-weight:bold">for&lt;/span> &lt;span style="color:#000">_&lt;/span>&lt;span style="color:#000;font-weight:bold">,&lt;/span> &lt;span style="color:#000">e&lt;/span> &lt;span style="color:#ce5c00;font-weight:bold">:=&lt;/span> &lt;span style="color:#204a87;font-weight:bold">range&lt;/span> &lt;span style="color:#000">errs&lt;/span> &lt;span style="color:#000;font-weight:bold">{&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#000">log&lt;/span>&lt;span style="color:#000;font-weight:bold">.&lt;/span>&lt;span style="color:#000">Errorf&lt;/span>&lt;span style="color:#000;font-weight:bold">(&lt;/span>&lt;span style="color:#4e9a06">&amp;#34;Options error: %s.&amp;#34;&lt;/span>&lt;span style="color:#000;font-weight:bold">,&lt;/span> &lt;span style="color:#000">e&lt;/span>&lt;span style="color:#000;font-weight:bold">)&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#000;font-weight:bold">}&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#204a87;font-weight:bold">return&lt;/span> &lt;span style="color:#204a87;font-weight:bold">false&lt;/span>&lt;span style="color:#000;font-weight:bold">,&lt;/span> &lt;span style="color:#000">fmt&lt;/span>&lt;span style="color:#000;font-weight:bold">.&lt;/span>&lt;span style="color:#000">Errorf&lt;/span>&lt;span style="color:#000;font-weight:bold">(&lt;/span>&lt;span style="color:#4e9a06">&amp;#34;opts are illegal&amp;#34;&lt;/span>&lt;span style="color:#000;font-weight:bold">)&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#000;font-weight:bold">}&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#000">err&lt;/span> &lt;span style="color:#ce5c00;font-weight:bold">:=&lt;/span> &lt;span style="color:#000">os&lt;/span>&lt;span style="color:#000;font-weight:bold">.&lt;/span>&lt;span style="color:#000">Remove&lt;/span>&lt;span style="color:#000;font-weight:bold">(&lt;/span>&lt;span style="color:#000">opts&lt;/span>&lt;span style="color:#000;font-weight:bold">.&lt;/span>&lt;span style="color:#000">Filename&lt;/span>&lt;span style="color:#000;font-weight:bold">)&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#204a87;font-weight:bold">if&lt;/span> &lt;span style="color:#000">err&lt;/span> &lt;span style="color:#ce5c00;font-weight:bold">!=&lt;/span> &lt;span style="color:#204a87;font-weight:bold">nil&lt;/span> &lt;span style="color:#000;font-weight:bold">{&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#204a87;font-weight:bold">return&lt;/span> &lt;span style="color:#204a87;font-weight:bold">false&lt;/span>&lt;span style="color:#000;font-weight:bold">,&lt;/span> &lt;span style="color:#000">err&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#000;font-weight:bold">}&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#204a87;font-weight:bold">return&lt;/span> &lt;span style="color:#204a87;font-weight:bold">true&lt;/span>&lt;span style="color:#000;font-weight:bold">,&lt;/span> &lt;span style="color:#204a87;font-weight:bold">nil&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#000;font-weight:bold">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>åˆ å§åˆ å§ï¼Œå‹‡æ•¢åœ°åˆ äº†å®ƒï¼&lt;/p>
&lt;h2 id="ç¼–è¯‘">ç¼–è¯‘&lt;/h2>
&lt;p>ç»ˆäºå†™å®Œä»£ç äº†ï¼Œè®©æˆ‘ä»¬æ¥ build ä¸€ä¸‹åˆšæ‰å¼€å‘çš„æ–°æ’ä»¶å§ï¼&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-shell" data-lang="shell">&lt;span style="display:flex;">&lt;span>make build-plugin.localfile
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>æ˜¯ä¸æ˜¯å¾ˆç®€å•ï¼Ÿç°åœ¨æˆ‘ä»¬çš„ Makefile å¯ä»¥æ”¯æŒ build å•ä¸ªæ’ä»¶äº†ï¼Œæ¼‚äº®ï¼&lt;/p>
&lt;h2 id="æµ‹è¯•">æµ‹è¯•&lt;/h2>
&lt;p>é¦–å…ˆï¼Œæˆ‘ä»¬æ¥åˆ›å»ºä¸€ä¸ªæ–°é…ç½®æ–‡ä»¶ï¼š &lt;code>config-localfile-test.yaml&lt;/code>:&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-yaml" data-lang="yaml">&lt;span style="display:flex;">&lt;span>&lt;span style="color:#204a87;font-weight:bold">tools&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline">&lt;/span>- &lt;span style="color:#204a87;font-weight:bold">name&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000">my-file&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">plugin&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000">localfile&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">options&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">filename&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000">foo.txt&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">content&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#4e9a06">&amp;#34;hello, world&amp;#34;&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>æ¥ç€ &lt;code>apply&lt;/code> ä¸€ä¸‹ï¼š&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-shell" data-lang="shell">&lt;span style="display:flex;">&lt;span>$ ./dtm -y apply -f config-localfile-test.yaml
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>2022-03-29 11:25:17 â„¹ &lt;span style="color:#ce5c00;font-weight:bold">[&lt;/span>INFO&lt;span style="color:#ce5c00;font-weight:bold">]&lt;/span> Apply started.
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>2022-03-29 11:25:17 â„¹ &lt;span style="color:#ce5c00;font-weight:bold">[&lt;/span>INFO&lt;span style="color:#ce5c00;font-weight:bold">]&lt;/span> Using dir &amp;lt;.devstream&amp;gt; to store plugins.
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>2022-03-29 11:25:17 â„¹ &lt;span style="color:#ce5c00;font-weight:bold">[&lt;/span>INFO&lt;span style="color:#ce5c00;font-weight:bold">]&lt;/span> Tool my-file &lt;span style="color:#ce5c00;font-weight:bold">(&lt;/span>localfile&lt;span style="color:#ce5c00;font-weight:bold">)&lt;/span> found in config but doesn&lt;span style="color:#a40000">&amp;#39;&lt;/span>t exist in the state, will be created.
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>2022-03-29 11:25:17 â„¹ &lt;span style="color:#ce5c00;font-weight:bold">[&lt;/span>INFO&lt;span style="color:#ce5c00;font-weight:bold">]&lt;/span> Start executing the plan.
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>2022-03-29 11:25:17 â„¹ &lt;span style="color:#ce5c00;font-weight:bold">[&lt;/span>INFO&lt;span style="color:#ce5c00;font-weight:bold">]&lt;/span> Changes count: 1.
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>2022-03-29 11:25:17 â„¹ &lt;span style="color:#ce5c00;font-weight:bold">[&lt;/span>INFO&lt;span style="color:#ce5c00;font-weight:bold">]&lt;/span> -------------------- &lt;span style="color:#ce5c00;font-weight:bold">[&lt;/span> Processing progress: 1/1. &lt;span style="color:#ce5c00;font-weight:bold">]&lt;/span> --------------------
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>2022-03-29 11:25:17 â„¹ &lt;span style="color:#ce5c00;font-weight:bold">[&lt;/span>INFO&lt;span style="color:#ce5c00;font-weight:bold">]&lt;/span> Processing: my-file &lt;span style="color:#ce5c00;font-weight:bold">(&lt;/span>localfile&lt;span style="color:#ce5c00;font-weight:bold">)&lt;/span> -&amp;gt; Create ...
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>2022-03-29 11:25:17 âœ” &lt;span style="color:#ce5c00;font-weight:bold">[&lt;/span>SUCCESS&lt;span style="color:#ce5c00;font-weight:bold">]&lt;/span> Plugin my-file&lt;span style="color:#ce5c00;font-weight:bold">(&lt;/span>localfile&lt;span style="color:#ce5c00;font-weight:bold">)&lt;/span> Create &lt;span style="color:#204a87;font-weight:bold">done&lt;/span>.
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>2022-03-29 11:25:17 â„¹ &lt;span style="color:#ce5c00;font-weight:bold">[&lt;/span>INFO&lt;span style="color:#ce5c00;font-weight:bold">]&lt;/span> -------------------- &lt;span style="color:#ce5c00;font-weight:bold">[&lt;/span> Processing &lt;span style="color:#204a87;font-weight:bold">done&lt;/span>. &lt;span style="color:#ce5c00;font-weight:bold">]&lt;/span> --------------------
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>2022-03-29 11:25:17 âœ” &lt;span style="color:#ce5c00;font-weight:bold">[&lt;/span>SUCCESS&lt;span style="color:#ce5c00;font-weight:bold">]&lt;/span> All plugins applied successfully.
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>2022-03-29 11:25:17 âœ” &lt;span style="color:#ce5c00;font-weight:bold">[&lt;/span>SUCCESS&lt;span style="color:#ce5c00;font-weight:bold">]&lt;/span> Apply finished.
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>å¦‚ä½ æ‰€è§ï¼Œæ–°æ’ä»¶åˆ›å»ºäº†ä¸€ä¸ªæ–°æ–‡ä»¶ï¼å½“ç„¶ä½ å¯ä»¥æ‰“å¼€è¿™ä¸ªæ–‡ä»¶çœ‹ä¸€ä¸‹é‡Œé¢çš„å†…å®¹æ˜¯ä¸æ˜¯ç¬¦åˆé¢„æœŸã€‚&lt;/p>
&lt;p>å¦‚æœä½ å†æ¥ä¸€æ¬¡ &lt;code>apply&lt;/code>, å•¥ä¹Ÿä¸ä¼šå‘ç”Ÿã€‚å› ä¸ºè¿™ä¸ªæ–‡ä»¶æ²¡æœ‰å‘ç”Ÿå˜åŒ–ã€‚&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-shell" data-lang="shell">&lt;span style="display:flex;">&lt;span>$ ./dtm -y apply -f config-localfile-test.yaml
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>2022-03-29 11:30:43 â„¹ &lt;span style="color:#ce5c00;font-weight:bold">[&lt;/span>INFO&lt;span style="color:#ce5c00;font-weight:bold">]&lt;/span> Apply started.
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>2022-03-29 11:30:43 â„¹ &lt;span style="color:#ce5c00;font-weight:bold">[&lt;/span>INFO&lt;span style="color:#ce5c00;font-weight:bold">]&lt;/span> Using dir &amp;lt;.devstream&amp;gt; to store plugins.
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>2022-03-29 11:30:45 â„¹ &lt;span style="color:#ce5c00;font-weight:bold">[&lt;/span>INFO&lt;span style="color:#ce5c00;font-weight:bold">]&lt;/span> No changes &lt;span style="color:#204a87;font-weight:bold">done&lt;/span> since last apply. There is nothing to &lt;span style="color:#204a87;font-weight:bold">do&lt;/span>.
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>2022-03-29 11:30:45 âœ” &lt;span style="color:#ce5c00;font-weight:bold">[&lt;/span>SUCCESS&lt;span style="color:#ce5c00;font-weight:bold">]&lt;/span> Apply finished.
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>ä½†æ˜¯ï¼Œå¦‚æœæŸäººåŠ¨äº†ä¸€ä¸‹è¿™ä¸ªæ–‡ä»¶å‘¢ï¼Ÿè¯•ä¸€ä¸‹ï¼è¯•ä¸€ä¸‹ï¼è¯•ä¸€ä¸‹ï¼&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-shell" data-lang="shell">&lt;span style="display:flex;">&lt;span>$ &lt;span style="color:#204a87">echo&lt;/span> &lt;span style="color:#4e9a06">&amp;#34;changed&amp;#34;&lt;/span> &amp;gt; foo.txt
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>$ ./dtm -y apply -f config-localfile-test.yaml
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>2022-03-29 11:26:40 â„¹ &lt;span style="color:#ce5c00;font-weight:bold">[&lt;/span>INFO&lt;span style="color:#ce5c00;font-weight:bold">]&lt;/span> Apply started.
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>2022-03-29 11:26:40 â„¹ &lt;span style="color:#ce5c00;font-weight:bold">[&lt;/span>INFO&lt;span style="color:#ce5c00;font-weight:bold">]&lt;/span> Using dir &amp;lt;.devstream&amp;gt; to store plugins.
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>2022-03-29 11:26:40 â„¹ &lt;span style="color:#ce5c00;font-weight:bold">[&lt;/span>INFO&lt;span style="color:#ce5c00;font-weight:bold">]&lt;/span> Tool my-file &lt;span style="color:#ce5c00;font-weight:bold">(&lt;/span>localfile&lt;span style="color:#ce5c00;font-weight:bold">)&lt;/span> drifted from the state, will be updated.
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>2022-03-29 11:26:40 â„¹ &lt;span style="color:#ce5c00;font-weight:bold">[&lt;/span>INFO&lt;span style="color:#ce5c00;font-weight:bold">]&lt;/span> Start executing the plan.
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>2022-03-29 11:26:40 â„¹ &lt;span style="color:#ce5c00;font-weight:bold">[&lt;/span>INFO&lt;span style="color:#ce5c00;font-weight:bold">]&lt;/span> Changes count: 1.
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>2022-03-29 11:26:40 â„¹ &lt;span style="color:#ce5c00;font-weight:bold">[&lt;/span>INFO&lt;span style="color:#ce5c00;font-weight:bold">]&lt;/span> -------------------- &lt;span style="color:#ce5c00;font-weight:bold">[&lt;/span> Processing progress: 1/1. &lt;span style="color:#ce5c00;font-weight:bold">]&lt;/span> --------------------
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>2022-03-29 11:26:40 â„¹ &lt;span style="color:#ce5c00;font-weight:bold">[&lt;/span>INFO&lt;span style="color:#ce5c00;font-weight:bold">]&lt;/span> Processing: my-file &lt;span style="color:#ce5c00;font-weight:bold">(&lt;/span>localfile&lt;span style="color:#ce5c00;font-weight:bold">)&lt;/span> -&amp;gt; Update ...
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>2022-03-29 11:26:40 âœ” &lt;span style="color:#ce5c00;font-weight:bold">[&lt;/span>SUCCESS&lt;span style="color:#ce5c00;font-weight:bold">]&lt;/span> Plugin my-file&lt;span style="color:#ce5c00;font-weight:bold">(&lt;/span>localfile&lt;span style="color:#ce5c00;font-weight:bold">)&lt;/span> Update &lt;span style="color:#204a87;font-weight:bold">done&lt;/span>.
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>2022-03-29 11:26:40 â„¹ &lt;span style="color:#ce5c00;font-weight:bold">[&lt;/span>INFO&lt;span style="color:#ce5c00;font-weight:bold">]&lt;/span> -------------------- &lt;span style="color:#ce5c00;font-weight:bold">[&lt;/span> Processing &lt;span style="color:#204a87;font-weight:bold">done&lt;/span>. &lt;span style="color:#ce5c00;font-weight:bold">]&lt;/span> --------------------
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>2022-03-29 11:26:40 âœ” &lt;span style="color:#ce5c00;font-weight:bold">[&lt;/span>SUCCESS&lt;span style="color:#ce5c00;font-weight:bold">]&lt;/span> All plugins applied successfully.
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>2022-03-29 11:26:40 âœ” &lt;span style="color:#ce5c00;font-weight:bold">[&lt;/span>SUCCESS&lt;span style="color:#ce5c00;font-weight:bold">]&lt;/span> Apply finished.
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>çœ‹å§ï¼Œæ–‡ä»¶å’ŒçŠ¶æ€è®°å½•ä¸ä¸€è‡´äº†ï¼Œæ‰€ä»¥å®ƒè¢«æ›´æ–°äº†ã€‚ä¸€é¡¿æ“ä½œçŒ›å¦‚è™ï¼Œç»ˆäºï¼Œè¿˜æ˜¯è¯¥å›æ¥äº†ã€‚&lt;/p>
&lt;p>é¢ï¼Œç©å¤§ä¸€ç‚¹ï¼Ÿåˆ äº†å¦‚ä½•ï¼Ÿ&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-shell" data-lang="shell">&lt;span style="display:flex;">&lt;span>$ rm foo.txt
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>$ ./dtm -y apply -f config-localfile-test.yaml
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>2022-03-29 11:27:33 â„¹ &lt;span style="color:#ce5c00;font-weight:bold">[&lt;/span>INFO&lt;span style="color:#ce5c00;font-weight:bold">]&lt;/span> Apply started.
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>2022-03-29 11:27:33 â„¹ &lt;span style="color:#ce5c00;font-weight:bold">[&lt;/span>INFO&lt;span style="color:#ce5c00;font-weight:bold">]&lt;/span> Using dir &amp;lt;.devstream&amp;gt; to store plugins.
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>2022-03-29 11:27:33 â„¹ &lt;span style="color:#ce5c00;font-weight:bold">[&lt;/span>INFO&lt;span style="color:#ce5c00;font-weight:bold">]&lt;/span> Tool my-file &lt;span style="color:#ce5c00;font-weight:bold">(&lt;/span>localfile&lt;span style="color:#ce5c00;font-weight:bold">)&lt;/span> state found but it seems the tool isn&lt;span style="color:#a40000">&amp;#39;&lt;/span>t created, will be created.
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>2022-03-29 11:27:33 â„¹ &lt;span style="color:#ce5c00;font-weight:bold">[&lt;/span>INFO&lt;span style="color:#ce5c00;font-weight:bold">]&lt;/span> Start executing the plan.
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>2022-03-29 11:27:33 â„¹ &lt;span style="color:#ce5c00;font-weight:bold">[&lt;/span>INFO&lt;span style="color:#ce5c00;font-weight:bold">]&lt;/span> Changes count: 1.
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>2022-03-29 11:27:33 â„¹ &lt;span style="color:#ce5c00;font-weight:bold">[&lt;/span>INFO&lt;span style="color:#ce5c00;font-weight:bold">]&lt;/span> -------------------- &lt;span style="color:#ce5c00;font-weight:bold">[&lt;/span> Processing progress: 1/1. &lt;span style="color:#ce5c00;font-weight:bold">]&lt;/span> --------------------
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>2022-03-29 11:27:33 â„¹ &lt;span style="color:#ce5c00;font-weight:bold">[&lt;/span>INFO&lt;span style="color:#ce5c00;font-weight:bold">]&lt;/span> Processing: my-file &lt;span style="color:#ce5c00;font-weight:bold">(&lt;/span>localfile&lt;span style="color:#ce5c00;font-weight:bold">)&lt;/span> -&amp;gt; Create ...
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>2022-03-29 11:27:33 âœ” &lt;span style="color:#ce5c00;font-weight:bold">[&lt;/span>SUCCESS&lt;span style="color:#ce5c00;font-weight:bold">]&lt;/span> Plugin my-file&lt;span style="color:#ce5c00;font-weight:bold">(&lt;/span>localfile&lt;span style="color:#ce5c00;font-weight:bold">)&lt;/span> Create &lt;span style="color:#204a87;font-weight:bold">done&lt;/span>.
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>2022-03-29 11:27:33 â„¹ &lt;span style="color:#ce5c00;font-weight:bold">[&lt;/span>INFO&lt;span style="color:#ce5c00;font-weight:bold">]&lt;/span> -------------------- &lt;span style="color:#ce5c00;font-weight:bold">[&lt;/span> Processing &lt;span style="color:#204a87;font-weight:bold">done&lt;/span>. &lt;span style="color:#ce5c00;font-weight:bold">]&lt;/span> --------------------
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>2022-03-29 11:27:33 âœ” &lt;span style="color:#ce5c00;font-weight:bold">[&lt;/span>SUCCESS&lt;span style="color:#ce5c00;font-weight:bold">]&lt;/span> All plugins applied successfully.
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>2022-03-29 11:27:33 âœ” &lt;span style="color:#ce5c00;font-weight:bold">[&lt;/span>SUCCESS&lt;span style="color:#ce5c00;font-weight:bold">]&lt;/span> Apply finished.
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>è¿™æ—¶å€™ï¼ŒDevStream è®¤ä¸ºè¿™ä¸ªæ–‡ä»¶åº”è¯¥å­˜åœ¨ï¼Œå› ä¸º State é‡Œå­˜ç€æœ‰è¿™ä¸ªæ–‡ä»¶ã€‚ä½†æ˜¯å®ƒè¢«åˆ äº†ã€‚æ‰€ä»¥ï¼Œå½“ç„¶æ˜¯æ¢å¤å•¦ï¼&lt;/p>
&lt;p>æœ€åï¼Œæˆ‘ä»¬è¯•ä¸€ä¸‹ &lt;code>delete&lt;/code> å‘½ä»¤å§ï¼š&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-shell" data-lang="shell">&lt;span style="display:flex;">&lt;span>$ ./dtm -y delete -f config-localfile-test.yaml
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>2022-03-29 11:32:24 â„¹ &lt;span style="color:#ce5c00;font-weight:bold">[&lt;/span>INFO&lt;span style="color:#ce5c00;font-weight:bold">]&lt;/span> Delete started.
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>2022-03-29 11:32:24 â„¹ &lt;span style="color:#ce5c00;font-weight:bold">[&lt;/span>INFO&lt;span style="color:#ce5c00;font-weight:bold">]&lt;/span> Using dir &amp;lt;.devstream&amp;gt; to store plugins.
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>2022-03-29 11:32:24 â„¹ &lt;span style="color:#ce5c00;font-weight:bold">[&lt;/span>INFO&lt;span style="color:#ce5c00;font-weight:bold">]&lt;/span> Tool my-file &lt;span style="color:#ce5c00;font-weight:bold">(&lt;/span>localfile&lt;span style="color:#ce5c00;font-weight:bold">)&lt;/span> will be deleted.
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>2022-03-29 11:32:24 â„¹ &lt;span style="color:#ce5c00;font-weight:bold">[&lt;/span>INFO&lt;span style="color:#ce5c00;font-weight:bold">]&lt;/span> Start executing the plan.
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>2022-03-29 11:32:24 â„¹ &lt;span style="color:#ce5c00;font-weight:bold">[&lt;/span>INFO&lt;span style="color:#ce5c00;font-weight:bold">]&lt;/span> Changes count: 1.
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>2022-03-29 11:32:24 â„¹ &lt;span style="color:#ce5c00;font-weight:bold">[&lt;/span>INFO&lt;span style="color:#ce5c00;font-weight:bold">]&lt;/span> -------------------- &lt;span style="color:#ce5c00;font-weight:bold">[&lt;/span> Processing progress: 1/1. &lt;span style="color:#ce5c00;font-weight:bold">]&lt;/span> --------------------
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>2022-03-29 11:32:24 â„¹ &lt;span style="color:#ce5c00;font-weight:bold">[&lt;/span>INFO&lt;span style="color:#ce5c00;font-weight:bold">]&lt;/span> Processing: my-file &lt;span style="color:#ce5c00;font-weight:bold">(&lt;/span>localfile&lt;span style="color:#ce5c00;font-weight:bold">)&lt;/span> -&amp;gt; Delete ...
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>2022-03-29 11:32:24 â„¹ &lt;span style="color:#ce5c00;font-weight:bold">[&lt;/span>INFO&lt;span style="color:#ce5c00;font-weight:bold">]&lt;/span> Prepare to delete &lt;span style="color:#4e9a06">&amp;#39;my-file_localfile&amp;#39;&lt;/span> from States.
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>2022-03-29 11:32:24 âœ” &lt;span style="color:#ce5c00;font-weight:bold">[&lt;/span>SUCCESS&lt;span style="color:#ce5c00;font-weight:bold">]&lt;/span> Plugin my-file &lt;span style="color:#ce5c00;font-weight:bold">(&lt;/span>localfile&lt;span style="color:#ce5c00;font-weight:bold">)&lt;/span> delete &lt;span style="color:#204a87;font-weight:bold">done&lt;/span>.
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>2022-03-29 11:32:24 â„¹ &lt;span style="color:#ce5c00;font-weight:bold">[&lt;/span>INFO&lt;span style="color:#ce5c00;font-weight:bold">]&lt;/span> -------------------- &lt;span style="color:#ce5c00;font-weight:bold">[&lt;/span> Processing &lt;span style="color:#204a87;font-weight:bold">done&lt;/span>. &lt;span style="color:#ce5c00;font-weight:bold">]&lt;/span> --------------------
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>2022-03-29 11:32:24 âœ” &lt;span style="color:#ce5c00;font-weight:bold">[&lt;/span>SUCCESS&lt;span style="color:#ce5c00;font-weight:bold">]&lt;/span> All plugins deleted successfully.
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>2022-03-29 11:32:24 âœ” &lt;span style="color:#ce5c00;font-weight:bold">[&lt;/span>SUCCESS&lt;span style="color:#ce5c00;font-weight:bold">]&lt;/span> Delete finished.
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>é…·å•Šæˆ‘å‹’ä¸ªä¹–ä¹–ï½ No error No warning å•Šï½&lt;/p>
&lt;h2 id="æ€»ç»“">æ€»ç»“&lt;/h2>
&lt;p>å¯¹ä¸èµ·å•¦ï¼Œè¿™ä¸ªæ—¶å€™æ‰ç»™ä½ çœ‹æ€»ç»“ã€‚æˆ‘æ²¡æœ‰æŠŠè¿™æ®µå†…å®¹æ”¾åœ¨æ–‡ç« å¼€å¤´ï¼Œæ˜¯å› ä¸ºæˆ‘å¸Œæœ›ä½ èƒ½å¤Ÿå®Œæ•´æ„Ÿå—ä¸‹ DevStreamã€‚ä½†æ˜¯å¦‚æœä½ å·²ç»æ„Ÿå—è¿‡ä¸€æ¬¡äº†ï¼Œæˆ–è€…æ„Ÿå—è¿‡å¾ˆå¤šæ¬¡äº†ï¼Œé‚£ä¹ˆæˆ–è®¸ä¸‹ä¸€æ¬¡å†å¼€å‘ä¸€ä¸ªæ–°æ’ä»¶æ—¶ï¼Œä½ åªæ˜¯éœ€è¦ä¸€ä¸ª checklistï¼š&lt;/p>
&lt;ul>
&lt;li>è¿è¡Œ &lt;code>dtm develop create-plugin --name=your-plugin&lt;/code>ã€‚&lt;/li>
&lt;li>æ‰§è¡Œ &lt;code>git status&lt;/code>ï¼Œç„¶åï¼š
&lt;ul>
&lt;li>æ‰¾åˆ°ç”Ÿæˆçš„æ–°æ–‡ä»¶&lt;/li>
&lt;li>åœ¨æ‰€æœ‰æ–°æ–‡ä»¶é‡Œæ‰¾åˆ° //TODO(dtm) æ ‡è®°çš„åœ°æ–¹ï¼Œè¡¥å……ä½ çš„ä»£ç é€»è¾‘&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>ç•™æ„æ‰€æœ‰æ¥å£çš„è¿”å›å€¼ï¼Œæƒ³æ¸…æ¥š &lt;em>State&lt;/em> å’Œ &lt;em>Resource&lt;/em> ä¹‹é—´çš„å…³ç³»ã€‚å…·ä½“è¿”å›ä»€ä¹ˆå€¼ï¼Œå–å†³äºå…·ä½“æ’ä»¶çš„é€»è¾‘ã€‚&lt;/li>
&lt;li>æœ€åï¼Œè¯·ä¸€å®šè®°å¾—æ›´æ–°æ’ä»¶æ–‡æ¡£ï¼Œæˆ‘çŸ¥é“å¯èƒ½ä½ ä¸å–œæ¬¢å†™æ–‡æ¡£ï¼Œä½†æ˜¯ï¼Œè¿™å¾ˆé‡è¦ï¼&lt;/li>
&lt;/ul></description></item><item><title>Blog: Hello, World</title><link>https://www.devstream.io/zh/blog/hello-world/</link><pubDate>Mon, 21 Mar 2022 00:00:00 +0000</pubDate><guid>https://www.devstream.io/zh/blog/hello-world/</guid><description>
&lt;img src="https://www.devstream.io/zh/blog/hello-world/featured-background_hu34961e30f9257864937cf0fe28917ce5_796839_640x0_resize_q75_catmullrom.jpg" width="640" height="479"/>
&lt;div class="card rounded p-2 td-post-card mb-4 mt-4" style="max-width: 1210px">
&lt;img class="card-img-top" src="https://www.devstream.io/zh/blog/hello-world/featured-background_hu34961e30f9257864937cf0fe28917ce5_796839_1200x800_fill_q75_catmullrom_smart1.jpg" width="1200" height="800">
&lt;div class="card-body px-0 pt-2 pb-0">
&lt;p class="card-text">
æˆéƒ½ä¸œå®‰æ¹–
&lt;small class="text-muted">&lt;br/>Photo: Tiexin Guo / CC-BY-CA&lt;/small>&lt;/p>
&lt;/div>
&lt;/div>
&lt;hr>
&lt;p>æœ¬æ–‡ä¸ç®—çŸ­ï¼Œä½†æ˜¯æˆ‘çŸ¥é“ä½ ä¼šè¯»å®Œã€‚å¦‚æœæ²¡è¯»å®Œï¼Œï¼Œä¸å¯èƒ½ï¼Œç»å¯¹ä¸å¯èƒ½ï¼&lt;/p>
&lt;p>åœ¨ç¬¬ä¸€ç¯‡åšæ–‡é‡Œï¼Œæˆ‘è¦è®²äº›å•¥å‘¢ï¼Ÿå¥½åƒæˆ‘ä¹Ÿæ²¡æœ‰æƒ³å¥½ã€‚ä½†æ˜¯ä»–ä»¬å–Šæˆ‘å†™ï¼Œé‚£æˆ‘å°±å†™äº†ã€‚&lt;/p>
&lt;p>å¥½ï¼Œè®©æˆ‘ä»¬è¡èµ·åŒæ¡¨ï¼Œä¸æ˜¯ï¼Œè®©æˆ‘ä»¬å¼€å§‹å§ï¼&lt;/p>
&lt;blockquote>
&lt;p>ä¸ç”¨å°è¯•åˆ‡æ¢ä¸­è‹±æ–‡ç‰ˆæœ¬çœ‹ä¸‹æˆ‘ç¿»è¯‘çš„å¥½ä¸å¥½ï¼Œæˆ‘å°±ä¸æ˜¯ä»è‹±æ–‡ç‰ˆç¿»è¯‘è¿‡æ¥çš„ã€‚
æˆ‘ä»¬çš„æ–‡ç« å¦‚æœæ˜¯åŒè¯­å‘å¸ƒï¼Œé‚£å°±ä¸€å®šæ˜¯ä¸¤æ¬¡åŸåˆ›ã€‚è™½ç„¶è¡¨è¾¾çš„ä¸»é¢˜ä¸€æ ·ï¼Œå¯èƒ½ä¹Ÿåªæœ‰ä¸»é¢˜ä¸€æ ·äº†ã€‚&lt;/p>
&lt;p>English version: &lt;a href="https://www.devstream.io/blog/hello-world">ã€ŠHello, Worldã€‹&lt;/a>Author: @Tiexin Guo(éƒ­é“å¿ƒ)&lt;/p>
&lt;p>ä¸­æ–‡ç‰ˆï¼š&lt;a href="../hello-world/">ã€Šä½ å¥½ï¼Œä¸–ç•Œã€‹&lt;/a>ä½œè€…ï¼š@èƒ¡æ¶›(Daniel Hu)&lt;/p>
&lt;/blockquote>
&lt;hr>
&lt;h2 id="åˆ«åˆ«åˆ«åˆ’èµ°ç»™æˆ‘ä¸‰åˆ†é’Ÿè¿˜ä½ ä¸€å¤©å¥½å¿ƒæƒ…">åˆ«åˆ«åˆ«åˆ’èµ°ï¼Œç»™æˆ‘ä¸‰åˆ†é’Ÿï¼Œè¿˜ä½ ä¸€å¤©å¥½å¿ƒæƒ…ï¼&lt;/h2>
&lt;p>åˆ«æ€¥ï¼Œç›¸ä¿¡æˆ‘ï¼Œä¸‹æ–‡ä¸ä¼šè®©ä½ çœ‹ç€&amp;quot;å¿ƒåŠ›æ†”æ‚´&amp;quot;ï¼Œä½ å¯ä»¥ç¬‘ç€çœ‹å®Œå…¨æ–‡ï¼Œå¹¶ä¸”æ¯«ä¸è´¹åŠ›åœ°å­¦åˆ°æ–°å§¿åŠ¿ï¼Œä¸æ˜¯ï¼Œæ–°çŸ¥è¯†ï¼Œæ–°çŸ¥è¯†ï¼&lt;/p>
&lt;p>å¾ˆå¤šæ—¶å€™ï¼Œæˆ‘åƒä¸€ä¸ª&amp;quot;å°ç™½&amp;quot;ç”¨æˆ·ã€‚ï¼ˆè™½ç„¶æˆ‘æ˜¯ï¼Œä½†æ˜¯æˆ‘çŸ¥é“ä½ ä»¬ä¸ä¿¡ã€‚ï¼‰æˆ‘æ€ä¹ˆä¸ª&amp;quot;å°ç™½&amp;quot;æ³•å‘¢ï¼Ÿ
æ¯”å¦‚æˆ‘å–œæ¬¢ç”¨å¼€æºè½¯ä»¶ï¼ˆç™½å«–è°ä¸å–œæ¬¢ï¼Ÿï¼‰ï¼Œä½†æ˜¯æˆ‘ç»å¯¹æ‡’å¾—åœ¨é‡åˆ°é—®é¢˜çš„æ—¶å€™ä¸Š GitHub ç»™å¯¹åº”çš„å¼€æºé¡¹ç›®å¼€ä¸€ä¸ª issue æ¥åé¦ˆæˆ‘é‡åˆ°çš„é—®é¢˜ï¼Œæ›´åˆ«æå¼€ä¸€ä¸ª pr æ¥ä¿®å¤æˆ‘é‡åˆ°çš„é—®é¢˜äº†ã€‚
æˆ–è®¸æœ‰ä¸€å¤©æˆ‘å¿ƒæƒ…å¤§å¥½ï¼Œæˆ‘ä¼šç»™ä¸€äº›&amp;quot;åé¦ˆ&amp;quot;ï¼Œä¹Ÿè®¸æ˜¯åœ¨ç”¨æˆ·ç¾¤é‡Œï¼Œä¹Ÿè®¸æ˜¯åœ¨å…¶ä»–åœ°æ–¹ã€‚å½“ç„¶ä¸€èˆ¬ç”¨ç€çˆ½äº†ï¼Œä¸å¯èƒ½å¼€ä¸€ä¸ª issue è¡¨ç¤ºæ„Ÿè°¢ã€‚ä½†æ˜¯ç”¨ç€å¾ˆä¸çˆ½ï¼Œæˆ–è®¸æˆ‘ä¼šå¿ä¸ä½å¼€ä¸ª issue é—®ä¸€å¥ï¼š
å•¥ç ´ç©æ„ï¼Ÿå°±è¿™ï¼Ÿå¥½æ„æ€å¼€æºï¼ŸWTFFFï¼ï¼ï¼&lt;/p>
&lt;p>æˆ‘åšç€æœä¹æ™šäº”çš„å·¥ä½œï¼Œæˆ‘ä¸åŠ ç­ï¼Œæˆ‘ä¸‹ç­åä¸å·¥ä½œã€‚
ä½†æ˜¯å¦‚æœæˆ‘é‡åˆ°ä¸€ä¸ªå¥½ç©çš„å¼€æºè½¯ä»¶ï¼Œæˆ–è®¸ä¸‹ç­åä½ ä¼šçœ‹åˆ°æˆ‘è¿˜åœ¨å‚ä¸æŸä¸ªå¼€æºé¡¹ç›®ï¼Œä¸ç®¡æ˜¯å†™ä»£ç ï¼Œè¿˜æ˜¯å‚ä¸ç¤¾åŒºä¾‹ä¼šã€‚è¿™ä¸æ˜¯æˆ‘çš„å·¥ä½œï¼Œè¿™æ˜¯æˆ‘çš„çˆ±å¥½ï¼Œæˆ‘çš„ç”Ÿæ´»ã€‚
åæ¥æˆ‘å°±æ²¡é‚£ä¹ˆ&amp;quot;å°ç™½&amp;quot;äº†ï¼è€Œä¸€ä¸ª&amp;quot;å¤§ç™½&amp;quot;ç”¨æˆ·çš„ä¿®å…»ï¼Œå°±æ˜¯å­¦ä¼šäº†ææ issueï¼Œæä¸€äº›å°çš„ prï¼Œå‚ä¸ä¸€äº›ç¤¾åŒºæ´»åŠ¨ï¼ŒçŸ¥é“å¼€æºé¡¹ç›®çš„æœ€æ–°åŠ¨æ€ï¼Œé€æ¸èå…¥äº†å¼€æºç¤¾åŒºã€‚&lt;/p>
&lt;p>è¯´ä¸ªç¬‘è¯ï¼šæˆ‘ä¸‹ç­äº†ä¸å·¥ä½œã€‚æˆ‘ä¸è§‰å¾—ç©å¼€æºç¤¾åŒºæ˜¯å·¥ä½œã€‚æˆ‘å–œæ¬¢æ²¡æ—¥æ²¡å¤œå€’è…¾å¼€æºç¤¾åŒºã€‚ç„¶åè€æ¿ç»™æˆ‘çš„å·¥ä½œå°±æ˜¯ç©&amp;quot;å¼€æºç¤¾åŒº&amp;quot;ï¼ï¼ï¼WTFï¼ï¼ï¼&lt;/p>
&lt;p>è€æ¿å‚¬æˆ‘å†™æ­£æ–‡äº†ã€‚å¥½å§ï¼Œæœ¬æ–‡è¿˜æ˜¯è¦ä»‹ç» DevStream çš„ï¼Œä¸èƒ½å…¨æ–‡èƒ¡æ‰¯ã€‚&lt;/p>
&lt;hr>
&lt;p>åœ¨è¿™ç¯‡&amp;quot;åˆ›ä¸–&amp;quot;åšæ–‡é‡Œï¼Œæˆ‘å‡†å¤‡ï¼š&lt;/p>
&lt;ul>
&lt;li>å‘ä½ ä»‹ç» DevStream çš„å·¥ä½œåŸç†ï¼ˆä¸è¦æ‹…å¿ƒï¼Œä¸ä¼šæ¶‰åŠåˆ°å¤æ‚çš„åŸç†ï¼Œå¤æ‚çš„æˆ‘ä¹Ÿä¸ä¼šï¼‰ï¼›&lt;/li>
&lt;li>å¸¦ä½ èµ°è¯»æˆ‘ä»¬çš„ä»£ç åº“ï¼ˆä¸è¦æ‹…å¿ƒï¼Œä¸ä¼šæ¶‰åŠåˆ°å¤æ‚çš„æºç ï¼Œå¤æ‚çš„æˆ‘ä¹Ÿä¸ä¼šï¼‰ï¼›&lt;/li>
&lt;li>å‘Šè¯‰ä½ å¦‚ä½•å¼€å‘è‡ªå®šä¹‰æ’ä»¶ï¼ˆä¸è¦æ‹…å¿ƒï¼Œçœ‹å®Œäº†ä½ åªä¼šçŸ¥é“ä¸€ä¸ªå¤§æ¦‚ï¼ŒçœŸæƒ³ä¸Šæ‰‹è¿˜æ˜¯å¾—çœ‹æˆ‘ä»¬çš„å®˜æ–¹æ–‡æ¡£ï¼‰ã€‚&lt;/li>
&lt;/ul>
&lt;p>å¦‚æœä½ æ²¡æœ‰å¬è¿‡ DevStreamï¼Œä¸ç€æ€¥ï¼Œè¯·å…ˆèŠ±åŠåˆ†é’Ÿæ—¶é—´æµè§ˆä¸‹ DevStream çš„ &lt;a href="https://github.com/devstream-io/devstream">README&lt;/a>ã€‚&lt;/p>
&lt;hr>
&lt;h2 id="æˆ‘æƒ³å¬åˆ°ä½ çš„éª‚å£°">æˆ‘æƒ³å¬åˆ°ä½ çš„éª‚å£°&lt;/h2>
&lt;p>æˆ‘ä»¬åœ¨ä¸‰æœˆåˆå‘å¸ƒäº† &lt;a href="https://www.producthunt.com/posts/devstream-1">v0.1&lt;/a> ç‰ˆæœ¬ï¼Œæ€»æœ‰äººè´¨ç–‘æˆ‘ä»¬æ˜¯ä¸æ˜¯å¤ªæ—© release äº†ã€‚
å…¶å®ä¸æ—©ã€‚æˆ‘ä»¬è‚¯å®šä¹Ÿä¸æ˜¯ä¸å°å¿ƒ releaseã€‚æˆ‘ä»¬æ˜¯æ•…æ„çš„ã€‚æ²¡é”™ï¼Œæ•…æ„çš„ã€‚æˆ‘ä»¬å…¶å®å¯ä»¥èº²ç€å·å·å†å¼€å‘å‡ ä¸ªæœˆï¼Œå®ç°æ›´å¤šçš„åŠŸèƒ½ï¼Œæ”¯æŒæ›´å¤šçš„æ’ä»¶ï¼ŒæŠŠ DevStream åšçš„æ›´å®Œç¾å† releaseã€‚&lt;/p>
&lt;p>&lt;strong>ä½†æ˜¯æˆ‘ä»¬æ‹…å¿ƒçš„æ˜¯ &amp;ldquo;æˆ‘ä»¬è®¤ä¸ºå¥½çš„åŠŸèƒ½&amp;rdquo; != &amp;ldquo;ä½ çœŸæ­£éœ€è¦çš„åŠŸèƒ½&amp;rdquo;&lt;/strong>&lt;/p>
&lt;p>æˆ‘ä»¬æœ‰å¾ˆå¤šçš„æƒ³æ³•ï¼Œæˆ‘ä»¬æœ‰å¾ˆå¤šæƒ³åšçš„åŠŸèƒ½ï¼Œä½†æˆ‘ä»¬ä¸æ˜¯æœ€ç»ˆçš„ç”¨æˆ·ã€‚æˆ‘ä»¬ç°åœ¨åšçš„å¾ˆå¤šäº‹æƒ…å…¶å®æ˜¯åœ¨&amp;quot;å‡è®¾&amp;quot;ï¼Œåœ¨çŒœç”¨æˆ·æƒ³è¦ä»€ä¹ˆåŠŸèƒ½ã€‚
æ—¢ç„¶æ˜¯æƒ³è¦çŸ¥é“&amp;quot;ç”¨æˆ·&amp;quot;æƒ³è¦ä»€ä¹ˆåŠŸèƒ½ï¼Œä¸ºä»€ä¹ˆä¸æ—©ç‚¹ release å‡ºå»ï¼Œè®©ç”¨æˆ·æ¥å‘Šè¯‰æˆ‘ä»¬è¿˜ç¼ºä»€ä¹ˆï¼Œè®©ç”¨æˆ·å‘Šè¯‰æˆ‘ä»¬å“ªé‡Œåšçš„ä¸å¥½å‘¢ï¼Ÿ
é‚£å°±å‘å‡ºå»å§ï¼Œå…ˆ releaseï¼Œå¬å¬ç”¨æˆ·çš„éª‚å£°ã€‚æˆ‘ä»¬è¦åšçš„ï¼Œå°±æ˜¯ä¸ç»™ç”¨æˆ·ç¬¬äºŒæ¬¡éª‚çš„æœºä¼šï¼Œä»¥æœ€å¿«çš„é€Ÿåº¦åé¦ˆç”¨æˆ·çš„åé¦ˆï¼Œè§£å†³ç”¨æˆ·çš„é—®é¢˜ã€‚&lt;/p>
&lt;p>è¡Œï¼ŒåºŸè¯äº†è¿™ä¹ˆå¤šï¼Œå¦‚æœä½ å¯¹ DevStream æœ‰ä¸€äº›å…´è¶£ï¼Œæ¬¢è¿æ‰“å¼€æˆ‘ä»¬çš„ &lt;a href="https://github.com/devstream-io/devstream">GitHub repo&lt;/a>ï¼Œçœ‹ä¸‹ README å’Œ quickstartï¼Œä½“éªŒä¸€ä¸‹ DevStream çš„åŠŸèƒ½ã€‚
æˆ‘ç›¸ä¿¡ä½ åœ¨ç¬¬ä¸€æ¬¡ä½¿ç”¨ dtm å‘½ä»¤çš„æ—¶å€™ï¼Œè‚¯å®šå¿ƒä¸­ä¼šå¤šæ¬¡ç‡ƒèµ·éª‚äººçš„æ¬²æœ›ï¼š&lt;/p>
&lt;p>&lt;strong>ä»€ä¹ˆç ´ç©æ„ï¼ï¼ï¼&lt;/strong>&lt;/p>
&lt;p>æ²¡å…³ç³»ï¼Œæ‰“å¼€æˆ‘ä»¬çš„ &lt;a href="https://github.com/devstream-io/devstream/issues">Issues é¡µé¢&lt;/a>ï¼Œç•…æ‰€æ¬²è¨€ï¼åªè¦ GitHub ä¸&amp;quot;å’Œè°&amp;quot;ä½ ï¼Œæˆ‘ä»¬è‚¯å®šä¸&amp;quot;å’Œè°&amp;quot;ä½ ã€‚
ä½ æ„¿æ„éª‚æˆ‘ï¼Œå°±è¯´æ˜ä½ å¿ƒé‡Œè¿˜æ˜¯æœ‰æˆ‘ï¼Œå“ˆå“ˆï¼Œè°¢è°¢ï¼æˆ‘å¿ƒé‡Œä¹Ÿæœ‰ä½ ï¼&lt;/p>
&lt;p>å½“ç„¶ï¼Œæ Issues æ˜¯ä¸€ç§ç¤¾åŒºè´¡çŒ®è¡Œä¸ºï¼Œæ²¡é”™ï¼Œä¸åªæ˜¯ prï¼ŒIssues ä¹Ÿç®—ã€‚å¯¹äº&amp;quot;ç¤¾åŒºè´¡çŒ®è€…&amp;quot;æˆ‘ä»¬ä¼šæä¾›æ— æ¯”çƒ­æƒ…çš„å¸®åŠ©ï¼ˆç»å¯¹è¶…è¿‡ä½ çš„æƒ³è±¡ï¼‰ã€‚
ä½ å¯ä»¥ä¸ä¿¡ï¼Œé‚£ä¹ˆä½ æä¸€ä¸ª pr è¯•è¯•ã€‚å½“ç„¶ä¹Ÿè®¸ä½ ä¼šè¯´æä¸æ¥ï¼Œé‚£ä½ å°±æä¸ª issue å‘Šè¯‰æˆ‘ä½ æƒ³æ prï¼Œç„¶åï¼Œä½ å°±æœ‰äº†è¢«æˆ‘æ„ŸåŠ¨çš„æœºä¼šäº†ï¼&lt;/p>
&lt;p>è‡³äºç»™ç¤¾åŒºè´¡çŒ®è€…çš„&amp;quot;ç²¾ç¥&amp;quot;ä¸Šæˆ–è€…&amp;quot;ç‰©è´¨&amp;quot;ä¸Šçš„å¥–åŠ±ï¼Œå½“ç„¶æœ‰ï¼Œä¸è¿‡æˆ‘æš‚æ—¶ä¸æƒ³é€éœ²ã€‚å¦‚æœä½ æ„¿æ„å°è¯•æˆä¸ºä¸€ä¸ª&amp;quot;ç¤¾åŒºè´¡çŒ®è€…&amp;quot;ï¼Œé‚£ä¹ˆç›¸ä¿¡æˆ‘ï¼Œä½ ä¸ä¼šå¤±æœ›ã€‚&lt;/p>
&lt;hr>
&lt;h2 id="å¥½å¥‡å¿ƒæ¥äº†">å¥½å¥‡å¿ƒæ¥äº†?&lt;/h2>
&lt;p>Goodï¼è®©æˆ‘ä»¬ä¸¢æ‰åŒæ¡¨ï¼Œå±ä½å‘¼å¸ï¼Œè·³ä¸‹å»å§ã€‚æ·±å…¥çœ‹ä¸‹ DevStreamï¼&lt;/p>
&lt;h3 id="æ¶æ„">æ¶æ„&lt;/h3>
&lt;p>ä¸€å¼ å¥½å›¾èƒœåƒè¨€å•Š&lt;/p>
&lt;p>&lt;img src="https://github.com/devstream-io/devstream/blob/main/docs/images/architecture-overview.png?raw=true" alt="architecture-overview">&lt;/p>
&lt;p>&lt;em>ï¼ˆå¦‚æœä½ è§‰å¾—è¿™ä¸ªå›¾ä¸å¤Ÿå¥½ï¼Œè¯·ç§»æ­¥è‹±æ–‡ç‰ˆï¼Œè‹±æ–‡ç‰ˆä½œè€…ç»˜åˆ¶çš„è¿™ä¸ªå›¾ï¼Œå’Œæˆ‘æ²¡å…³ç³»ï¼‰&lt;/em>&lt;/p>
&lt;p>æˆ‘ä»¬ç”¨äº† &lt;a href="https://pkg.go.dev/plugin">Go plugin&lt;/a>. è¿™æˆ–è®¸æœ‰å¾ˆå¤šå€¼å¾—è®¨è®ºçš„ç‚¹ï¼Œä½†æ˜¯è¿™é‡Œæˆ‘ä»¬ç®€å•å…ˆèŠå‡ å¥ï¼š&lt;/p>
&lt;ul>
&lt;li>é¦–å…ˆï¼Œæˆ‘ä»¬éœ€è¦æ”¯æŒå¾ˆå¤šçš„ DevOps å·¥å…·ï¼Œç„¶åä¸€ç§å·¥å…·å¯¹åº”ä¸€ä¸ªæ’ä»¶ï¼Œå¬èµ·æ¥å¾ˆè‡ªç„¶ï¼›&lt;/li>
&lt;li>æ¥ç€ï¼Œå¥½åƒæœ‰å¾ˆå¤šå¯é€‰çš„ &amp;ldquo;core-plugin&amp;rdquo; å¯é€‰æ¶æ„ï¼Œæˆ‘ä»¬å‘ç° Golang çš„ Plugins æœºåˆ¶æ»¡è¶³éœ€æ±‚ï¼›&lt;/li>
&lt;li>ç„¶åï¼Œæœ€åï¼Œè¿™é‡Œå¥½åƒè¿˜æœ‰äº›ç‚¹éœ€è¦åˆ—ï¼Œä½†æ˜¯ï¼Œä¸å¥½æ„æ€ï¼Œæˆ‘æƒ³ä¸èµ·æ¥äº†ã€‚&lt;/li>
&lt;/ul>
&lt;h3 id="çŠ¶æ€">çŠ¶æ€&lt;/h3>
&lt;p>æˆ‘ä»¬æŠŠ DevStream (CLI å·¥å…·åå­—å« dtmï¼Œåˆ«é—®æˆ‘ä¸ºå•¥ï¼Œè¿™æ˜¯ä¸€ä¸ªå¾ˆé•¿çš„æ•…äº‹ï¼Œå¦‚æœä½ æ„Ÿå…´è¶£ï¼Œå¯ä»¥çœ‹&lt;a href="https://github.com/devstream-io/devstream#why-dtm">è¿™é‡Œ&lt;/a>)
å½“ä½œä¸€ä¸ª &amp;ldquo;&lt;a href="https://en.wikipedia.org/wiki/Finite-state_machine">çŠ¶æ€æœº&lt;/a>&amp;quot;ã€‚&lt;/p>
&lt;p>ç»™ä¸€ä¸ªè¾“å…¥ï¼Œç»“åˆå½“å‰çš„çŠ¶æ€ï¼ŒDevStream ä¼šæ¥ç€è®¡ç®—æ¥ä¸‹æ¥è¯¥å¹²ä»€ä¹ˆã€‚å¦‚æœä½ å¯¹æ­¤æ„Ÿå…´è¶£ï¼Œé‚£å°±è·³åˆ°&lt;a href="https://github.com/devstream-io/devstream/blob/main/docs/core_concept.md">è¿™é‡Œ&lt;/a> å†çœ‹å‡ çœ¼ã€‚&lt;/p>
&lt;h3 id="ç›®å½•ç»“æ„">ç›®å½•ç»“æ„&lt;/h3>
&lt;p>æˆ‘ä»¬çš„ä¸€ä¸ªä¸»è¦ä¾æ®æ˜¯ &lt;a href="https://github.com/golang-standards/project-layout">standard project layout&lt;/a>ã€‚ä½†æ˜¯åˆ«å»ç‚¹è¿™ä¸ªé“¾æ¥ï¼Œé‡Œé¢çš„å†…å®¹å¤ªé•¿äº†ï¼Œæˆ–è®¸ä¸æ˜¯ä½ æƒ³çœ‹åˆ°çš„ã€‚çœ‹æˆ‘çš„æ€»ç»“å°±è¡Œï¼š&lt;/p>
&lt;ul>
&lt;li>&lt;code>/cmd&lt;/code>: å…¥å£åŒ…ï¼Œåˆ«æ”¾å¤ªå¤šä¸œè¥¿åœ¨é‡Œé¢ã€‚&lt;/li>
&lt;li>&lt;code>/pkg&lt;/code>: æˆ–è®¸å…¶ä»–é¡¹ç›®èƒ½ç”¨å¾—åˆ°çš„ä¸€äº›ä»£ç ï¼Œä¸»è¦æ˜¯ä¸€äº› utilã€‚&lt;/li>
&lt;li>&lt;code>/internal&lt;/code>: é¡¹ç›®å†…çš„ä¸»è¦é€»è¾‘ï¼Œä¸èƒ½è¢«å…¶ä»–é¡¹ç›® importã€‚&lt;/li>
&lt;li>&lt;code>/hack&lt;/code>: ä¸€äº›ä¸»è¦çš„å·¥å…·è„šæœ¬ç­‰ã€‚&lt;/li>
&lt;li>&lt;code>/build&lt;/code>: æ‰“åŒ…ç›¸å…³çš„ä¸€äº›è„šæœ¬ç­‰ã€‚&lt;/li>
&lt;li>&lt;code>/docs&lt;/code>: è¿™ä¸ªä¸éœ€è¦è§£é‡Šäº†ã€‚&lt;/li>
&lt;li>&lt;code>/examples&lt;/code>: è¿™é‡Œä¸»è¦ç”¨æ¥ä¿å­˜ç¤ºä¾‹é…ç½®ã€‚&lt;/li>
&lt;/ul>
&lt;p>è§£é‡Šä¸åŠ¨äº†ï¼Œå¤§å®¶å¯ä»¥çœ‹çœ‹è‹±æ–‡ç‰ˆæ€ä¹ˆæè¿°çš„ã€‚æˆ‘è¯´è¿‡æˆ‘æ˜¯&amp;quot;å°ç™½&amp;rdquo;ï¼Œæˆ‘ä¸æ‡‚çš„ã€‚ä¸è¿‡è¿™ä¸ªç›®å½•ç»“æ„åº”è¯¥ Gopher çœ‹èµ·æ¥å¾ˆå®¹æ˜“ç†è§£ï¼Œå¤§å®¶æœ›æ–‡ç”Ÿä¹‰å§ã€‚&lt;/p>
&lt;h3 id="core--plugin">Core / Plugin&lt;/h3>
&lt;ul>
&lt;li>Core ä»£ç : &lt;a href="https://github.com/devstream-io/devstream/tree/main/internal/pkg/pluginengine">https://github.com/devstream-io/devstream/tree/main/internal/pkg/pluginengine&lt;/a>&lt;/li>
&lt;li>Plugins ä»£ç : &lt;a href="https://github.com/devstream-io/devstream/tree/main/internal/pkg/plugin">https://github.com/devstream-io/devstream/tree/main/internal/pkg/plugin&lt;/a>&lt;/li>
&lt;/ul>
&lt;h3 id="dtm-apply-å‘½ä»¤èƒŒåçš„é€»è¾‘æ˜¯å•¥">&lt;code>dtm apply&lt;/code> å‘½ä»¤èƒŒåçš„é€»è¾‘æ˜¯å•¥?&lt;/h3>
&lt;ol>
&lt;li>ä»è¿™é‡Œå¼€å§‹ï¼š &lt;a href="https://github.com/devstream-io/devstream/blob/main/cmd/devstream/main.go">&lt;code>/cmd/devstream/main.go&lt;/code>&lt;/a>.&lt;/li>
&lt;li>æ¥ç€ &lt;code>apply&lt;/code> å‘½ä»¤åœ¨ &lt;a href="https://github.com/devstream-io/devstream/blob/main/cmd/devstream/apply.go">&lt;code>/cmd/devstream/apply.go&lt;/code>&lt;/a>.&lt;/li>
&lt;li>ç„¶å &lt;em>å¼•æ“&lt;/em> &lt;a href="https://github.com/devstream-io/devstream/tree/main/internal/pkg/pluginengine">&lt;code>/internal/pkg/pluginengine&lt;/code>&lt;/a> è¿è¡Œæ‰€æœ‰çš„ &lt;code>apply&lt;/code> é€»è¾‘ï¼Œ
åœ¨è¿™é‡Œï¼š&lt;a href="https://github.com/devstream-io/devstream/blob/main/internal/pkg/pluginengine/cmd_apply.go">&lt;code>/internal/pkg/pluginengine/cmd_apply.go&lt;/code>&lt;/a>.&lt;/li>
&lt;/ol>
&lt;p>ç„¶åï¼Œé ä½ è‡ªå·±å»æŒ–æ˜å…¶ä»–ç»†èŠ‚äº†ï¼&lt;/p>
&lt;hr>
&lt;h2 id="devstream-å‘ç‰ˆå¤ªæ…¢äº†èƒ½ä¸èƒ½å¿«ç‚¹å°±é—®ä½ èƒ½ä¸èƒ½">DevStream å‘ç‰ˆå¤ªæ…¢äº†ï¼ï¼ï¼èƒ½ä¸èƒ½å¿«ç‚¹ï¼Ÿï¼Ÿï¼Ÿå°±é—®ä½ èƒ½ä¸èƒ½ï¼Ÿï¼Ÿï¼Ÿ&lt;/h2>
&lt;p>èƒ½ï¼Œå½“ç„¶èƒ½ï¼&lt;/p>
&lt;p>é¦–å…ˆè£…ä¸ª Goï¼Œå¦‚æœä½ æ²¡æœ‰è£…å¥½ï¼Œå¯ä»¥å‚è€ƒ&lt;a href="https://go.dev/doc/install">å®˜æ–¹æ–‡æ¡£&lt;/a>.&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-bash" data-lang="bash">&lt;span style="display:flex;">&lt;span>git clone https://github.com/devstream-io/devstream.git &lt;span style="color:#ce5c00;font-weight:bold">&amp;amp;&amp;amp;&lt;/span> &lt;span style="color:#204a87">cd&lt;/span> stream
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>go install golang.org/x/tools/cmd/goimports@latest
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#8f5902;font-style:italic"># make sure your GOPATH/bin is in your PATH&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#8f5902;font-style:italic"># for example, run this:&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#204a87">export&lt;/span> &lt;span style="color:#000">PATH&lt;/span>&lt;span style="color:#ce5c00;font-weight:bold">=&lt;/span>&lt;span style="color:#4e9a06">`&lt;/span>go env GOPATH&lt;span style="color:#4e9a06">`&lt;/span>/bin:&lt;span style="color:#000">$PATH&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>make build
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#8f5902;font-style:italic"># after you run &amp;#34;make build&amp;#34;, you DO NOT need to run &amp;#34;dtm init&amp;#34; anymore&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#8f5902;font-style:italic"># run &amp;#34;dtm apply&amp;#34;, &amp;#34;dtm delete&amp;#34; directly&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#8f5902;font-style:italic"># because &amp;#34;init&amp;#34; will try to download plugins from the internet,&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#8f5902;font-style:italic"># instead of using what you just built&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>dtm apply -f path_to_your_config.yaml
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;hr>
&lt;h2 id="æ²¡çœ‹å¤Ÿ">æ²¡çœ‹å¤Ÿ?&lt;/h2>
&lt;p>æ­å–œä½ å·²ç»èµ°åˆ°è¿™æ­¥äº†ï¼Œè¦ä¸è¦ç©ä¸€ç‚¹åˆºæ¿€çš„ï¼Ÿæ¯”å¦‚å°è¯•å¼€å‘ä¸€ä¸ªæ–°æ’ä»¶ï¼Ÿ&lt;/p>
&lt;p>æ¯ä¸ªæ’ä»¶éƒ½éœ€è¦å®ç°ä¸€äº›æ¥å£ï¼Œå®šä¹‰åœ¨è¿™äº›åœ°æ–¹ï¼š&lt;/p>
&lt;ul>
&lt;li>&lt;a href="https://github.com/devstream-io/devstream/blob/main/internal/pkg/pluginengine/plugin.go#L12">&lt;code>Create&lt;/code>&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://github.com/devstream-io/devstream/blob/main/internal/pkg/pluginengine/plugin.go#L13">&lt;code>Read&lt;/code>&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://github.com/devstream-io/devstream/blob/main/internal/pkg/pluginengine/plugin.go#L14">&lt;code>Update&lt;/code>&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://github.com/devstream-io/devstream/blob/main/internal/pkg/pluginengine/plugin.go#L16">&lt;code>Delete&lt;/code>&lt;/a>&lt;/li>
&lt;/ul>
&lt;p>å¯ä»¥å‚è€ƒä¸€ä¸ªå·²ç»å­˜åœ¨çš„æ’ä»¶ï¼Œæ¯”å¦‚&lt;a href="https://github.com/devstream-io/devstream/blob/main/cmd/argocd/main.go">è¿™ä¸ª&lt;/a>.&lt;/p>
&lt;p>å¥½å¥½å¥½ï¼Œåœ¨ä½ æŠ±æ€¨ä¹‹å‰æˆ‘æƒ³å‘Šè¯‰ä½ ä¸€ä¸ªç§˜å¯†æ­¦å™¨ï¼å¼€å‘ä¸€ä¸ªæ–°æ’ä»¶æ—¶éœ€è¦å¤åˆ¶ç²˜è´´å¾ˆå¤šçš„ä»£ç ï¼Œåˆ›å»ºé‡å¤çš„ç›®å½•ç»“æ„ï¼Œè¿™ç§äº‹æƒ…è®©äººæ„Ÿè§‰å¾ˆä¸çˆ½ï¼
ä½ è§‰å¾—æˆ‘ä¼šå®¹å¿è¿™ç§ä¸çˆ½å­˜åœ¨è¶…è¿‡ä¸€å¤©ï¼Ÿï¼Ÿï¼Ÿ&lt;/p>
&lt;p>æ²¡é”™ï¼Œä¸ä¼šï¼Œç»å¯¹ä¸ä¼šï¼&lt;/p>
&lt;p>æˆ‘ä»¬å¼€å‘äº†ä¸€ä¸ªå°å·¥å…·ï¼Œè®©ä½ èƒ½å¤Ÿå¿«é€Ÿç”Ÿæˆä¸€ä¸ªæ–°æ’ä»¶çš„éª¨æ¶ï¼š&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-bash" data-lang="bash">&lt;span style="display:flex;">&lt;span>dtm develop create-plugin --name&lt;span style="color:#ce5c00;font-weight:bold">=&lt;/span>my-pluing-name-here
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>å¥½äº†ã€‚æ‰“å®Œæ”¶å·¥ã€‚ä¹Ÿè®¸ä½ è¿˜æ²¡çœ‹çˆ½ï¼Œä½†æ˜¯æˆ‘å†™ç´¯äº†ã€‚æˆ‘è¦ä¼‘æ¯äº†ï¼ŒI need a cup of coffee! now! bye!&lt;/p>
&lt;blockquote>
&lt;p>æœ€åï¼Œè®°å¾—å»çœ‹ä¸€ä¸‹è‹±æ–‡ç‰ˆï¼Œä½ ä¼šçœ‹åˆ°ä¸ä¸€æ ·çš„é£æ™¯ï¼
æˆ‘ä¸éª—ä½ å“ˆï¼Œæˆ‘æ˜¯æ¥æç¬‘çš„ï¼Œä½ è¦ä¸¥è°¨çš„çŸ¥è¯†ï¼Œå¾—å»è‹±æ–‡ç‰ˆçœ‹ã€‚&lt;/p>
&lt;/blockquote></description></item></channel></rss>